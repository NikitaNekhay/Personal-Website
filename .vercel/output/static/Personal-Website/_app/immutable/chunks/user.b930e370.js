import{r as l,s as c,d as i,J as h,b as D,t as y,o as m}from"./firebase.d761e8f2.js";async function w(e,o,s,n,r,g,p){try{let t;console.log(typeof e),typeof e!="string"?t=l(c(i,"user"),e.uid):t=l(c(i,"user"),e),await D(i,async f=>{const u=await f.get(t);if(console.log("userDoc is existing?",u),!u.exists())throw new Error("User does not exist");const a=u.data();console.log("WHAT WE HAVE FROM DOCUMENTS userData: ",a);const d={name:o??a.name,email:s??a.email,phone:n??a.phone,country:r??a.country,description:g??a.description,messages:p??a.messages};console.log("WHAT WE GOT FROM SUBMIT updatedUserData: ",d),console.log("userDocRef before transaction.update ",t),console.log("updatedUserData before transaction.update ",d),f.update(t,d)})}catch(t){console.error("Error updating user:",t)}}async function E(e){try{console.log("getting user profile his id: ",e.uid);const o=l(c(i,"user"),e.uid),s=await h(o),n=s.data(),r={user:e.uid,email:e.email};return console.log("is user exists? ",s.exists()),s.exists()?s.data():r}catch(o){console.error("Error fetching user:",o)}}async function x(){const e=c(i,"user");let s=(await y(e)).docs.map(r=>({id:r.id,...r.data()})),n=0;for(n=0;n<s.length;n++)try{return s}catch(r){console.log("error while adding additional info for each user",r)}}async function b(e){try{const o=l(c(i,"user"),e);await m(o),console.log("user is deleted:",e)}catch(o){console.error("Error deleting blog post:",o)}setTimeout(()=>{location.reload()},500)}export{x as a,E as g,b as h,w as u};
