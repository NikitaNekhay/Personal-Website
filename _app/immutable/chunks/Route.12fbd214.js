import{S as et,i as nt,s as ot,L as st,M as at,N as ct,O as lt,g as y,d as S,X as M,Y as U,G as C,o as _t,e as N,b as I,v as j,f as B,h as L,Z as pt,_ as D,$ as z,a0 as G,a1 as ht,E as m,x as q,y as W,z as mt,A as X,a2 as dt,a3 as Z,B as F}from"./index.0e3fa2d8.js";import{w as E,d as bt}from"./index.b6807587.js";const J={},H={},gt={},A=o=>({...o.location,state:o.history.state,key:o.history.state&&o.history.state.key||"initial"}),kt=o=>{const t=[];let s=A(o);return{get location(){return s},listen(e){t.push(e);const n=()=>{s=A(o),e({location:s,action:"POP"})};return o.addEventListener("popstate",n),()=>{o.removeEventListener("popstate",n);const a=t.indexOf(e);t.splice(a,1)}},navigate(e,{state:n,replace:a=!1}={}){n={...n,key:Date.now()+""};try{a?o.history.replaceState(n,null,e):o.history.pushState(n,null,e)}catch{o.location[a?"replace":"assign"](e)}s=A(o),t.forEach(l=>l({location:s,action:"PUSH"})),document.activeElement.blur()}}},yt=(o="/")=>{let t=0;const s=[{pathname:o,search:""}],e=[];return{get location(){return s[t]},addEventListener(n,a){},removeEventListener(n,a){},history:{get entries(){return s},get index(){return t},get state(){return e[t]},pushState(n,a,l){const[f,c=""]=l.split("?");t++,s.push({pathname:f,search:c}),e.push(n)},replaceState(n,a,l){const[f,c=""]=l.split("?");s[t]={pathname:f,search:c},e[t]=n}}}},Rt=typeof window<"u"&&"document"in window,St=kt(Rt?window:yt()),rt=/^:(.+)/,K=4,wt=3,Nt=2,Ot=1,Pt=1,Y=o=>o.replace(/(^\/+|\/+$)/g,"").split("/"),v=o=>o.replace(/(^\/+|\/+$)/g,""),Tt=(o,t)=>{const s=o.default?0:Y(o.path).reduce((e,n)=>(e+=K,n===""?e+=Pt:rt.test(n)?e+=Nt:n[0]==="*"?e-=K+Ot:e+=wt,e),0);return{route:o,score:s,index:t}},Ct=o=>o.map(Tt).sort((t,s)=>t.score<s.score?1:t.score>s.score?-1:t.index-s.index),Q=(o,t)=>{let s,e;const[n]=t.split("?"),a=Y(n),l=a[0]==="",f=Ct(o);for(let c=0,i=f.length;c<i;c++){const _=f[c].route;let p=!1;if(_.default){e={route:_,params:{},uri:t};continue}const d=Y(_.path),b={},u=Math.max(a.length,d.length);let h=0;for(;h<u;h++){const g=d[h],w=a[h];if(g&&g[0]==="*"){const T=g==="*"?"*":g.slice(1);b[T]=a.slice(h).map(decodeURIComponent).join("/");break}if(typeof w>"u"){p=!0;break}const O=rt.exec(g);if(O&&!l){const T=decodeURIComponent(w);b[O[1]]=T}else if(g!==w){p=!0;break}}if(!p){s={route:_,params:b,uri:"/"+a.slice(0,h).join("/")};break}}return s||e||null},V=(o,t)=>`${v(t==="/"?o:`${v(o)}/${v(t)}`)}/`,Et=o=>({route:o&2,location:o&1}),x=o=>({route:o[1]&&o[1].uri,location:o[0]});function It(o){let t;const s=o[12].default,e=st(s,o,o[11],x);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),t=!0},p(n,[a]){e&&e.p&&(!t||a&2051)&&at(e,s,n,n[11],t?lt(s,n[11],a,Et):ct(n[11]),x)},i(n){t||(y(e,n),t=!0)},o(n){S(e,n),t=!1},d(n){e&&e.d(n)}}}function Lt(o,t,s){let e,n,a,l,{$$slots:f={},$$scope:c}=t,{basepath:i="/"}=t,{url:_=null}=t,{history:p=St}=t;M(gt,p);const d=U(J),b=U(H),u=E([]);C(o,u,r=>s(9,n=r));const h=E(null);C(o,h,r=>s(1,l=r));let g=!1;const w=d||E(_?{pathname:_}:p.location);C(o,w,r=>s(0,e=r));const O=b?b.routerBase:E({path:i,uri:i});C(o,O,r=>s(10,a=r));const T=bt([O,h],([r,k])=>{if(!k)return r;const{path:R}=r,{route:P,uri:ft}=k;return{path:P.default?R:P.path.replace(/\*.*$/,""),uri:ft}}),it=r=>{const{path:k}=a;let{path:R}=r;if(r._path=R,r.path=V(k,R),typeof window>"u"){if(g)return;const P=Q([r],e.pathname);P&&(h.set(P),g=!0)}else u.update(P=>[...P,r])},ut=r=>{u.update(k=>k.filter(R=>R!==r))};return d||(_t(()=>p.listen(k=>{w.set(k.location)})),M(J,w)),M(H,{activeRoute:h,base:O,routerBase:T,registerRoute:it,unregisterRoute:ut}),o.$$set=r=>{"basepath"in r&&s(6,i=r.basepath),"url"in r&&s(7,_=r.url),"history"in r&&s(8,p=r.history),"$$scope"in r&&s(11,c=r.$$scope)},o.$$.update=()=>{if(o.$$.dirty&1024){const{path:r}=a;u.update(k=>k.map(R=>({...R,path:V(r,R._path)})))}if(o.$$.dirty&513){const r=Q(n,e.pathname);h.set(r)}},[e,l,u,h,w,O,i,_,p,n,a,c,f]}class qt extends et{constructor(t){super(),nt(this,t,Lt,It,ot,{basepath:6,url:7,history:8})}}const Mt=o=>({params:o&4}),$=o=>({params:o[2]});function tt(o){let t,s,e,n;const a=[vt,At],l=[];function f(c,i){return c[0]?0:1}return t=f(o),s=l[t]=a[t](o),{c(){s.c(),e=N()},l(c){s.l(c),e=N()},m(c,i){l[t].m(c,i),I(c,e,i),n=!0},p(c,i){let _=t;t=f(c),t===_?l[t].p(c,i):(j(),S(l[_],1,1,()=>{l[_]=null}),B(),s=l[t],s?s.p(c,i):(s=l[t]=a[t](c),s.c()),y(s,1),s.m(e.parentNode,e))},i(c){n||(y(s),n=!0)},o(c){S(s),n=!1},d(c){l[t].d(c),c&&L(e)}}}function At(o){let t;const s=o[8].default,e=st(s,o,o[7],$);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),t=!0},p(n,a){e&&e.p&&(!t||a&132)&&at(e,s,n,n[7],t?lt(s,n[7],a,Mt):ct(n[7]),$)},i(n){t||(y(e,n),t=!0)},o(n){S(e,n),t=!1},d(n){e&&e.d(n)}}}function vt(o){let t,s,e,n={ctx:o,current:null,token:null,hasCatch:!1,pending:Ht,then:Dt,catch:Ut,value:12,blocks:[,,,]};return G(s=o[0],n),{c(){t=N(),n.block.c()},l(a){t=N(),n.block.l(a)},m(a,l){I(a,t,l),n.block.m(a,n.anchor=l),n.mount=()=>t.parentNode,n.anchor=t,e=!0},p(a,l){o=a,n.ctx=o,l&1&&s!==(s=o[0])&&G(s,n)||ht(n,o,l)},i(a){e||(y(n.block),e=!0)},o(a){for(let l=0;l<3;l+=1){const f=n.blocks[l];S(f)}e=!1},d(a){a&&L(t),n.block.d(a),n.token=null,n=null}}}function Ut(o){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Dt(o){var f;let t,s,e;const n=[o[2],o[3]];var a=((f=o[12])==null?void 0:f.default)||o[12];function l(c){let i={};for(let _=0;_<n.length;_+=1)i=D(i,n[_]);return{props:i}}return a&&(t=q(a,l())),{c(){t&&W(t.$$.fragment),s=N()},l(c){t&&mt(t.$$.fragment,c),s=N()},m(c,i){t&&X(t,c,i),I(c,s,i),e=!0},p(c,i){var p;const _=i&12?dt(n,[i&4&&Z(c[2]),i&8&&Z(c[3])]):{};if(i&1&&a!==(a=((p=c[12])==null?void 0:p.default)||c[12])){if(t){j();const d=t;S(d.$$.fragment,1,0,()=>{F(d,1)}),B()}a?(t=q(a,l()),W(t.$$.fragment),y(t.$$.fragment,1),X(t,s.parentNode,s)):t=null}else a&&t.$set(_)},i(c){e||(t&&y(t.$$.fragment,c),e=!0)},o(c){t&&S(t.$$.fragment,c),e=!1},d(c){c&&L(s),t&&F(t,c)}}}function Ht(o){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Yt(o){let t,s,e=o[1]&&o[1].route===o[5]&&tt(o);return{c(){e&&e.c(),t=N()},l(n){e&&e.l(n),t=N()},m(n,a){e&&e.m(n,a),I(n,t,a),s=!0},p(n,[a]){n[1]&&n[1].route===n[5]?e?(e.p(n,a),a&2&&y(e,1)):(e=tt(n),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(j(),S(e,1,1,()=>{e=null}),B())},i(n){s||(y(e),s=!0)},o(n){S(e),s=!1},d(n){e&&e.d(n),n&&L(t)}}}function jt(o,t,s){let e,{$$slots:n={},$$scope:a}=t,{path:l=""}=t,{component:f=null}=t,c={},i={};const{registerRoute:_,unregisterRoute:p,activeRoute:d}=U(H);C(o,d,u=>s(1,e=u));const b={path:l,default:l===""};return _(b),pt(()=>{p(b)}),o.$$set=u=>{s(11,t=D(D({},t),z(u))),"path"in u&&s(6,l=u.path),"component"in u&&s(0,f=u.component),"$$scope"in u&&s(7,a=u.$$scope)},o.$$.update=()=>{{e&&e.route===b&&s(2,c=e.params);const{component:u,path:h,...g}=t;s(3,i=g),u&&(u.toString().startsWith("class ")?s(0,f=u):s(0,f=u()))}},t=z(t),[f,e,c,i,d,b,l,a,n]}class Wt extends et{constructor(t){super(),nt(this,t,jt,Yt,ot,{path:6,component:0})}}export{qt as R,Wt as a};
