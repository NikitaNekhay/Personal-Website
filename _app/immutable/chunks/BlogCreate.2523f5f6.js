import{S as At,i as Lt,s as Tt,k as r,q as w,a as v,l as i,m as s,r as N,h as u,c as m,n as o,b as wt,C as t,O as A,D as R,P as Nt,Q as yt,E as Dt,F as Pt}from"./index.c52da2f4.js";import{b as Ut,d as It,u as Vt,r as qt,c as Ct,a as St}from"./firebase.80003ae4.js";const Bt=Ut(It,"blogs");async function Rt(e){const n=await Vt(Bt,e);console.log("New blog added with ID: ",n.id),Ot(n.id,e.title,e.images,e.author,e.authorEmail,e.description,e.price,e.date)}async function Ot(e,n,f,l,P,a,b,g){try{const D=qt(Bt,e);await Ct(It,async L=>{const d=await L.get(D);if(!d.exists())throw new Error("Post does not exist");const h=d.data();console.log("this is postData var:",h);const _={id:e??h.id,title:n??h.title,images:[],author:l??h.author,authorEmail:P??h.authorEmail,description:a??h.description,price:b??h.price,date:g??h.date};L.update(D,_),console.log("this is updatedPostData var:",_)})}catch(D){console.error("Error updating post:",D)}}function Ft(e){let n,f,l,P,a,b,g,D,L,d,h,_,O,W,Y,T,Z,U,F,x,$,y,tt,V,j,et,at,I,rt,q,k,it,lt,B,ot,C,H,ut,nt,S,st,M,dt,pt,ht;return{c(){n=r("div"),f=r("h2"),l=w("Create a New Blog"),P=v(),a=r("form"),b=r("div"),g=r("label"),D=w("Title:"),L=v(),d=r("input"),h=v(),_=r("div"),O=r("label"),W=w("Description:"),Y=v(),T=r("textarea"),Z=v(),U=r("div"),F=r("label"),x=w("Author:"),$=v(),y=r("input"),tt=v(),V=r("div"),j=r("label"),et=w("Author Email:"),at=v(),I=r("input"),rt=v(),q=r("div"),k=r("label"),it=w("Price:"),lt=v(),B=r("input"),ot=v(),C=r("div"),H=r("label"),ut=w("Images:"),nt=v(),S=r("input"),st=v(),M=r("button"),dt=w("Submit"),this.h()},l(p){n=i(p,"DIV",{class:!0});var E=s(n);f=i(E,"H2",{});var ct=s(f);l=N(ct,"Create a New Blog"),ct.forEach(u),P=m(E),a=i(E,"FORM",{});var c=s(a);b=i(c,"DIV",{});var Q=s(b);g=i(Q,"LABEL",{for:!0});var ft=s(g);D=N(ft,"Title:"),ft.forEach(u),L=m(Q),d=i(Q,"INPUT",{type:!0,id:!0}),Q.forEach(u),h=m(c),_=i(c,"DIV",{});var X=s(_);O=i(X,"LABEL",{for:!0});var vt=s(O);W=N(vt,"Description:"),vt.forEach(u),Y=m(X),T=i(X,"TEXTAREA",{id:!0}),s(T).forEach(u),X.forEach(u),Z=m(c),U=i(c,"DIV",{});var z=s(U);F=i(z,"LABEL",{for:!0});var mt=s(F);x=N(mt,"Author:"),mt.forEach(u),$=m(z),y=i(z,"INPUT",{type:!0,id:!0}),z.forEach(u),tt=m(c),V=i(c,"DIV",{});var G=s(V);j=i(G,"LABEL",{for:!0});var _t=s(j);et=N(_t,"Author Email:"),_t.forEach(u),at=m(G),I=i(G,"INPUT",{type:!0,id:!0}),G.forEach(u),rt=m(c),q=i(c,"DIV",{});var J=s(q);k=i(J,"LABEL",{for:!0});var Et=s(k);it=N(Et,"Price:"),Et.forEach(u),lt=m(J),B=i(J,"INPUT",{type:!0,id:!0}),J.forEach(u),ot=m(c),C=i(c,"DIV",{});var K=s(C);H=i(K,"LABEL",{for:!0});var bt=s(H);ut=N(bt,"Images:"),bt.forEach(u),nt=m(K),S=i(K,"INPUT",{type:!0,id:!0}),K.forEach(u),st=m(c),M=i(c,"BUTTON",{type:!0});var gt=s(M);dt=N(gt,"Submit"),gt.forEach(u),c.forEach(u),E.forEach(u),this.h()},h(){o(g,"for","title"),o(d,"type","text"),o(d,"id","title"),d.required=!0,o(O,"for","description"),o(T,"id","description"),o(F,"for","author"),o(y,"type","text"),o(y,"id","author"),y.required=!0,o(j,"for","authorEmail"),o(I,"type","email"),o(I,"id","authorEmail"),I.required=!0,o(k,"for","price"),o(B,"type","number"),o(B,"id","price"),B.required=!0,o(H,"for","images"),o(S,"type","file"),o(S,"id","images"),S.multiple=!0,o(M,"type","submit"),o(n,"class","pt-20 flex text-center justify-center")},m(p,E){wt(p,n,E),t(n,f),t(f,l),t(n,P),t(n,a),t(a,b),t(b,g),t(g,D),t(b,L),t(b,d),A(d,e[0].title),t(a,h),t(a,_),t(_,O),t(O,W),t(_,Y),t(_,T),A(T,e[0].description),t(a,Z),t(a,U),t(U,F),t(F,x),t(U,$),t(U,y),A(y,e[0].author),t(a,tt),t(a,V),t(V,j),t(j,et),t(V,at),t(V,I),A(I,e[0].authorEmail),t(a,rt),t(a,q),t(q,k),t(k,it),t(q,lt),t(q,B),A(B,e[0].price),t(a,ot),t(a,C),t(C,H),t(H,ut),t(C,nt),t(C,S),t(a,st),t(a,M),t(M,dt),pt||(ht=[R(d,"input",e[2]),R(T,"input",e[3]),R(y,"input",e[4]),R(I,"input",e[5]),R(B,"input",e[6]),R(S,"change",e[7]),R(a,"submit",Nt(e[1]))],pt=!0)},p(p,[E]){E&1&&d.value!==p[0].title&&A(d,p[0].title),E&1&&A(T,p[0].description),E&1&&y.value!==p[0].author&&A(y,p[0].author),E&1&&I.value!==p[0].authorEmail&&A(I,p[0].authorEmail),E&1&&yt(B.value)!==p[0].price&&A(B,p[0].price)},i:Dt,o:Dt,d(p){p&&u(n),pt=!1,Pt(ht)}}}function jt(e,n,f){let l={id:-1,title:"",description:"",author:"",authorEmail:"",price:"",images:[],date:new Date};async function P(h){h.preventDefault(),St.currentUser;try{Rt(l)}catch(_){console.log("auth error",_)}}function a(){l.title=this.value,f(0,l)}function b(){l.description=this.value,f(0,l)}function g(){l.author=this.value,f(0,l)}function D(){l.authorEmail=this.value,f(0,l)}function L(){l.price=yt(this.value),f(0,l)}function d(){l.images=this.value,f(0,l)}return[l,P,a,b,g,D,L,d]}class Mt extends At{constructor(n){super(),Lt(this,n,jt,Ft,Tt,{})}}export{Mt as B};
