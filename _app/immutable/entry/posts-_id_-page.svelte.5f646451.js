import{S as Qe,i as Ye,s as Ze,e as U,b as P,E as V,h as u,G as Xe,o as je,U as tt,k as v,q as m,l as g,m as b,r as h,C as n,a as T,c as I,n as E,p as He,D as Ke,u as k,F as lt,T as st,N as Fe,y as Me,M as rt,z as Se,A as ze,g as x,d as ee,B as Be,v as ot,f as at}from"../chunks/index.b9428a69.js";import{R as nt,a as it}from"../chunks/Route.5dfc5283.js";import"../chunks/history.686f2e10.js";import{b as xe}from"../chunks/post.59092c10.js";import{p as et}from"../chunks/stores.b12cdbb4.js";import"../chunks/store.bac6cf28.js";import"../chunks/firebase.11792937.js";import{b as ct}from"../chunks/paths.22c87085.js";import{X as ut,m as ft,r as _t,x as pt}from"../chunks/ru.4cb9ce8e.js";/* empty css                                                         */function We(a,t,s){const e=a.slice();return e[13]=t[s],e}function mt(a){let t,s;return{c(){t=v("p"),s=m("Loading...")},l(e){t=g(e,"P",{});var l=b(t);s=h(l,"Loading..."),l.forEach(u)},m(e,l){P(e,t,l),n(t,s)},p:V,d(e){e&&u(t)}}}function ht(a){let t,s,e,l,r,o,p,_=a[2]("BACK")+"",d,A,D,L=a[2]("NEXT")+"",X,R,M,i,w,q=a[0].title+"",te,be,y,G=a[0].description+"",le,Ee,S,j=a[2]("Author")+"",se,$e,H=a[0].author+"",re,ke,z,K=a[2]("Author Email")+"",oe,De,F=a[0].authorEmail+"",ae,Ne,B,W=a[2]("Price")+"",ne,Pe,J=a[0].price+"",ie,Ae,C,Q=a[2]("Date")+"",ce,Te,Y=a[0].date+"",ue,Ie,O,Z=a[2]("SEND EMAIL TO AUTHOR")+"",fe,_e,Le,Ce;function Ve(c,f){return c[0].images?vt:dt}let pe=Ve(a),N=pe(a);return{c(){t=v("div"),s=v("div"),e=v("div"),N.c(),l=T(),r=v("div"),o=v("button"),p=m("← "),d=m(_),A=T(),D=v("button"),X=m(L),R=m(" →"),M=T(),i=v("div"),w=v("h1"),te=m(q),be=T(),y=v("p"),le=m(G),Ee=T(),S=v("p"),se=m(j),$e=m(" : "),re=m(H),ke=T(),z=v("p"),oe=m(K),De=m(" : "),ae=m(F),Ne=T(),B=v("p"),ne=m(W),Pe=m(" : "),ie=m(J),Ae=T(),C=v("p"),ce=m(Q),Te=m(" : "),ue=m(Y),Ie=T(),O=v("a"),fe=m(Z),this.h()},l(c){t=g(c,"DIV",{class:!0});var f=b(t);s=g(f,"DIV",{class:!0});var Re=b(s);e=g(Re,"DIV",{class:!0,style:!0});var Ue=b(e);N.l(Ue),Ue.forEach(u),Re.forEach(u),l=I(f),r=g(f,"DIV",{class:!0});var me=b(r);o=g(me,"BUTTON",{class:!0});var we=b(o);p=h(we,"← "),d=h(we,_),we.forEach(u),A=I(me),D=g(me,"BUTTON",{class:!0});var Oe=b(D);X=h(Oe,L),R=h(Oe," →"),Oe.forEach(u),me.forEach(u),f.forEach(u),M=I(c),i=g(c,"DIV",{class:!0});var $=b(i);w=g($,"H1",{});var qe=b(w);te=h(qe,q),qe.forEach(u),be=I($),y=g($,"P",{});var ye=b(y);le=h(ye,G),ye.forEach(u),Ee=I($),S=g($,"P",{});var he=b(S);se=h(he,j),$e=h(he," : "),re=h(he,H),he.forEach(u),ke=I($),z=g($,"P",{});var de=b(z);oe=h(de,K),De=h(de," : "),ae=h(de,F),de.forEach(u),Ne=I($),B=g($,"P",{});var ve=b(B);ne=h(ve,W),Pe=h(ve," : "),ie=h(ve,J),ve.forEach(u),Ae=I($),C=g($,"P",{});var ge=b(C);ce=h(ge,Q),Te=h(ge," : "),ue=h(ge,Y),ge.forEach(u),Ie=I($),O=g($,"A",{href:!0,class:!0});var Ge=b(O);fe=h(Ge,Z),Ge.forEach(u),$.forEach(u),this.h()},h(){E(e,"class","slider-line svelte-uzc2z6"),He(e,"transform","translateX("+a[1]+"px)"),E(s,"class","slider svelte-uzc2z6"),E(o,"class","slider-back"),E(D,"class","slider-next"),E(r,"class","buttons items-center justify-center text-center content-center"),E(t,"class","container_slider"),E(O,"href",_e="mailto:"+a[0].authorEmail),E(O,"class","bg-red-2"),E(i,"class","items-center justify-center text-center content-center mt-4 bore")},m(c,f){P(c,t,f),n(t,s),n(s,e),N.m(e,null),n(t,l),n(t,r),n(r,o),n(o,p),n(o,d),n(r,A),n(r,D),n(D,X),n(D,R),P(c,M,f),P(c,i,f),n(i,w),n(w,te),n(i,be),n(i,y),n(y,le),n(i,Ee),n(i,S),n(S,se),n(S,$e),n(S,re),n(i,ke),n(i,z),n(z,oe),n(z,De),n(z,ae),n(i,Ne),n(i,B),n(B,ne),n(B,Pe),n(B,ie),n(i,Ae),n(i,C),n(C,ce),n(C,Te),n(C,ue),n(i,Ie),n(i,O),n(O,fe),Le||(Ce=[Ke(o,"click",a[3]),Ke(D,"click",a[4])],Le=!0)},p(c,f){pe===(pe=Ve(c))&&N?N.p(c,f):(N.d(1),N=pe(c),N&&(N.c(),N.m(e,null))),f&2&&He(e,"transform","translateX("+c[1]+"px)"),f&4&&_!==(_=c[2]("BACK")+"")&&k(d,_),f&4&&L!==(L=c[2]("NEXT")+"")&&k(X,L),f&1&&q!==(q=c[0].title+"")&&k(te,q),f&1&&G!==(G=c[0].description+"")&&k(le,G),f&4&&j!==(j=c[2]("Author")+"")&&k(se,j),f&1&&H!==(H=c[0].author+"")&&k(re,H),f&4&&K!==(K=c[2]("Author Email")+"")&&k(oe,K),f&1&&F!==(F=c[0].authorEmail+"")&&k(ae,F),f&4&&W!==(W=c[2]("Price")+"")&&k(ne,W),f&1&&J!==(J=c[0].price+"")&&k(ie,J),f&4&&Q!==(Q=c[2]("Date")+"")&&k(ce,Q),f&1&&Y!==(Y=c[0].date+"")&&k(ue,Y),f&4&&Z!==(Z=c[2]("SEND EMAIL TO AUTHOR")+"")&&k(fe,Z),f&1&&_e!==(_e="mailto:"+c[0].authorEmail)&&E(O,"href",_e)},d(c){c&&u(t),N.d(),c&&u(M),c&&u(i),Le=!1,lt(Ce)}}}function dt(a){let t,s,e;return{c(){t=v("div"),s=v("p"),e=m("NO images")},l(l){t=g(l,"DIV",{});var r=b(t);s=g(r,"P",{});var o=b(s);e=h(o,"NO images"),o.forEach(u),r.forEach(u)},m(l,r){P(l,t,r),n(t,s),n(s,e)},p:V,d(l){l&&u(t)}}}function vt(a){let t,s=a[0].images,e=[];for(let l=0;l<s.length;l+=1)e[l]=Je(We(a,s,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=U()},l(l){for(let r=0;r<e.length;r+=1)e[r].l(l);t=U()},m(l,r){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,r);P(l,t,r)},p(l,r){if(r&1){s=l[0].images;let o;for(o=0;o<s.length;o+=1){const p=We(l,s,o);e[o]?e[o].p(p,r):(e[o]=Je(p),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=s.length}},d(l){st(e,l),l&&u(t)}}}function Je(a){let t,s,e;return{c(){t=v("img"),this.h()},l(l){t=g(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Fe(t.src,s=a[13])||E(t,"src",s),E(t,"alt",e=a[0].title),E(t,"class","w-100 h-100 svelte-uzc2z6")},m(l,r){P(l,t,r)},p(l,r){r&1&&!Fe(t.src,s=l[13])&&E(t,"src",s),r&1&&e!==(e=l[0].title)&&E(t,"alt",e)},d(l){l&&u(t)}}}function gt(a){let t;function s(r,o){return r[0]?ht:mt}let e=s(a),l=e(a);return{c(){l.c(),t=U()},l(r){l.l(r),t=U()},m(r,o){l.m(r,o),P(r,t,o)},p(r,[o]){e===(e=s(r))&&l?l.p(r,o):(l.d(1),l=e(r),l&&(l.c(),l.m(t.parentNode,t)))},i:V,o:V,d(r){l.d(r),r&&u(t)}}}const bt=50;function Et(a,t,s){let e,l;Xe(a,et,i=>s(8,e=i)),Xe(a,ut,i=>s(2,l=i)),ft("ru",_t),pt.set("ru");let r={};const{id:o}=e.params;let p=!0;je(async()=>{try{s(0,r=await xe(o)),console.log(r),p=!1}catch{console.log("error fetching the blog post with id:",o)}});const _=tt();let d=0;function A(){s(1,d+=400),d>(r.images.length-1)*100&&s(1,d=0),_("swipe",{direction:"next",offset:d})}function D(){s(1,d-=400),d<0&&s(1,d=(r.images.length-1)*100),_("swipe",{direction:"back",offset:d})}let L,X;function R(i){L=i.touches[0].clientX}function M(i){X=i.changedTouches[0].clientX;const w=L-X;Math.abs(w)>bt&&(w>0?A():D())}return je(()=>{const i=document.querySelector(".slider-line");return i.addEventListener("touchstart",R),i.addEventListener("touchend",M),()=>{i.removeEventListener("touchstart",R),i.removeEventListener("touchend",M)}}),[r,d,l,A,D]}class $t extends Qe{constructor(t){super(),Ye(this,t,Et,gt,Ze,{})}}function kt(a){let t,s;return t=new $t({props:{post:a[0]}}),{c(){Me(t.$$.fragment)},l(e){Se(t.$$.fragment,e)},m(e,l){ze(t,e,l),s=!0},p(e,l){const r={};l&1&&(r.post=e[0]),t.$set(r)},i(e){s||(x(t.$$.fragment,e),s=!0)},o(e){ee(t.$$.fragment,e),s=!1},d(e){Be(t,e)}}}function Dt(a){let t;return{c(){t=m("LOADING")},l(s){t=h(s,"LOADING")},m(s,e){P(s,t,e)},p:V,i:V,o:V,d(s){s&&u(t)}}}function Nt(a){let t,s,e,l;const r=[Dt,kt],o=[];function p(_,d){return _[1]?0:1}return t=p(a),s=o[t]=r[t](a),{c(){s.c(),e=U()},l(_){s.l(_),e=U()},m(_,d){o[t].m(_,d),P(_,e,d),l=!0},p(_,d){let A=t;t=p(_),t===A?o[t].p(_,d):(ot(),ee(o[A],1,1,()=>{o[A]=null}),at(),s=o[t],s?s.p(_,d):(s=o[t]=r[t](_),s.c()),x(s,1),s.m(e.parentNode,e))},i(_){l||(x(s),l=!0)},o(_){ee(s),l=!1},d(_){o[t].d(_),_&&u(e)}}}function Pt(a){let t,s;return t=new it({props:{path:`${ct}/posts/:id`,$$slots:{default:[Nt,({params:e})=>({4:e}),({params:e})=>e?16:0]},$$scope:{ctx:a}}}),{c(){Me(t.$$.fragment)},l(e){Se(t.$$.fragment,e)},m(e,l){ze(t,e,l),s=!0},p(e,l){const r={};l&35&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){s||(x(t.$$.fragment,e),s=!0)},o(e){ee(t.$$.fragment,e),s=!1},d(e){Be(t,e)}}}function At(a){let t,s,e,l;return document.title="Page of the post",e=new nt({props:{$$slots:{default:[Pt]},$$scope:{ctx:a}}}),{c(){t=v("meta"),s=T(),Me(e.$$.fragment),this.h()},l(r){const o=rt("svelte-1jh6ire",document.head);t=g(o,"META",{name:!0,content:!0}),o.forEach(u),s=I(r),Se(e.$$.fragment,r),this.h()},h(){E(t,"name","single blog page"),E(t,"content","Detailed blog post")},m(r,o){n(document.head,t),P(r,s,o),ze(e,r,o),l=!0},p(r,[o]){const p={};o&35&&(p.$$scope={dirty:o,ctx:r}),e.$set(p)},i(r){l||(x(e.$$.fragment,r),l=!0)},o(r){ee(e.$$.fragment,r),l=!1},d(r){u(t),r&&u(s),Be(e,r)}}}function Tt(a,t,s){let e;Xe(a,et,p=>s(2,e=p));let l={},r=!0;return(async()=>{try{const p=e.params.id;console.log(p),p?(s(0,l=await xe(p)),s(1,r=!1)):console.log("id is not exists on page params")}catch(p){console.log("error while loadPost",p)}})(),[l,r]}class Vt extends Qe{constructor(t){super(),Ye(this,t,Tt,At,Ze,{})}}export{Vt as default};
