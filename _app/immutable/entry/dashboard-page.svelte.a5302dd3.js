import{S as je,i as ze,s as Ke,k as i,q as M,a as g,l as n,m as p,r as S,h as c,c as v,n as e,b as ve,C as t,Q as A,D as K,u as C,R as Qe,E as ge,F as Xe,G as He,K as Je,y as We,P as Ye,z as Ze,A as $e,g as et,d as tt,B as at}from"../chunks/index.a2a1b63d.js";import"../chunks/store.09a7d2bf.js";import{a as rt,b as lt,c as st,u as ot,g as it}from"../chunks/firebase.11792937.js";import{a as nt}from"../chunks/post.e841b5b9.js";import{X as ut,m as ct,r as dt,x as pt}from"../chunks/ru.3db335e3.js";import{b as ft}from"../chunks/paths.bd4024aa.js";function mt(o){let l=o[2]("Submit")+"",a;return{c(){a=M(l)},l(s){a=S(s,l)},m(s,d){ve(s,a,d)},p(s,d){d&4&&l!==(l=s[2]("Submit")+"")&&C(a,l)},d(s){s&&c(a)}}}function ht(o){let l,a;return{c(){l=i("img"),this.h()},l(s){l=n(s,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){e(l,"alt","spinner"),Je(l.src,a=ft+"/media/spinner.svg")||e(l,"src",a),e(l,"class","spinner")},m(s,d){ve(s,l,d)},p:ge,d(s){s&&c(l)}}}function bt(o){let l,a,s,d,r,_=o[2]("Title")+"",Q,W,h,Y,T,y,L,b=o[2]("Description")+"",m,re,I,_e,X,Z=o[2]("Make it as simple as informative")+"",le,ye,V,B,G,$=o[2]("Author Name")+"",se,we,w,Ee,N,O,ee=o[2]("Author Email")+"",oe,ke,E,xe,q,F,j,te=o[2]("Price")+"",ie,Ie,k,De,R,z,ae=o[2]("Files")+"",ne,Ae,H,P,Le,U,Pe,Ue;function Te(u,f){return u[0]?ht:mt}let ue=Te(o),x=ue(o);return{c(){l=i("div"),a=i("form"),s=i("div"),d=i("div"),r=i("label"),Q=M(_),W=g(),h=i("input"),Y=g(),T=i("div"),y=i("div"),L=i("label"),m=M(b),re=g(),I=i("input"),_e=g(),X=i("p"),le=M(Z),ye=g(),V=i("div"),B=i("div"),G=i("label"),se=M($),we=g(),w=i("input"),Ee=g(),N=i("div"),O=i("label"),oe=M(ee),ke=g(),E=i("input"),xe=g(),q=i("div"),F=i("div"),j=i("label"),ie=M(te),Ie=g(),k=i("input"),De=g(),R=i("div"),z=i("label"),ne=M(ae),Ae=g(),H=i("div"),P=i("input"),Le=g(),U=i("button"),x.c(),this.h()},l(u){l=n(u,"DIV",{class:!0});var f=p(l);a=n(f,"FORM",{class:!0});var D=p(a);s=n(D,"DIV",{class:!0});var Ve=p(s);d=n(Ve,"DIV",{class:!0});var ce=p(d);r=n(ce,"LABEL",{class:!0,for:!0});var Be=p(r);Q=S(Be,_),Be.forEach(c),W=v(ce),h=n(ce,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),ce.forEach(c),Ve.forEach(c),Y=v(D),T=n(D,"DIV",{class:!0});var Ne=p(T);y=n(Ne,"DIV",{class:!0});var J=p(y);L=n(J,"LABEL",{class:!0,for:!0});var qe=p(L);m=S(qe,b),qe.forEach(c),re=v(J),I=n(J,"INPUT",{class:!0,id:!0,placeholder:!0}),_e=v(J),X=n(J,"P",{class:!0});var Fe=p(X);le=S(Fe,Z),Fe.forEach(c),J.forEach(c),Ne.forEach(c),ye=v(D),V=n(D,"DIV",{class:!0});var de=p(V);B=n(de,"DIV",{class:!0});var pe=p(B);G=n(pe,"LABEL",{class:!0,for:!0});var Re=p(G);se=S(Re,$),Re.forEach(c),we=v(pe),w=n(pe,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),pe.forEach(c),Ee=v(de),N=n(de,"DIV",{class:!0});var fe=p(N);O=n(fe,"LABEL",{class:!0,for:!0});var Me=p(O);oe=S(Me,ee),Me.forEach(c),ke=v(fe),E=n(fe,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),fe.forEach(c),de.forEach(c),xe=v(D),q=n(D,"DIV",{class:!0});var me=p(q);F=n(me,"DIV",{class:!0});var he=p(F);j=n(he,"LABEL",{class:!0,for:!0});var Se=p(j);ie=S(Se,te),Se.forEach(c),Ie=v(he),k=n(he,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),he.forEach(c),De=v(me),R=n(me,"DIV",{class:!0});var be=p(R);z=n(be,"LABEL",{class:!0,for:!0});var Ce=p(z);ne=S(Ce,ae),Ce.forEach(c),Ae=v(be),H=n(be,"DIV",{class:!0});var Ge=p(H);P=n(Ge,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Ge.forEach(c),be.forEach(c),me.forEach(c),Le=v(D),U=n(D,"BUTTON",{type:!0,class:!0});var Oe=p(U);x.l(Oe),Oe.forEach(c),D.forEach(c),f.forEach(c),this.h()},h(){e(r,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(r,"for","title"),e(h,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(h,"type","text"),e(h,"id","title"),h.required=!0,e(h,"placeholder","Title"),e(d,"class","w-full px-3"),e(s,"class","flex flex-wrap -mx-3 mb-6"),e(L,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(L,"for","description"),e(I,"class","appearance-none block w-full bg-gray-200 text-gray-700 place-items-start border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(I,"id","description"),e(I,"placeholder","Description"),e(X,"class","text-gray-600 text-xs italic"),e(y,"class","w-full px-3 h-full"),e(T,"class","flex flex-wrap -mx-3 mb-6"),e(G,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(G,"for","author"),e(w,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(w,"type","text"),e(w,"id","author"),e(w,"placeholder","Author"),w.required=!0,e(B,"class","w-full md:w-1/2 px-3 mb-6 md:mb-0"),e(O,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(O,"for","authorEmail"),e(E,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(E,"type","email"),e(E,"id","authorEmail"),e(E,"placeholder","email@web.net"),E.required=!0,e(N,"class","w-full md:w-1/2 px-3"),e(V,"class","flex flex-wrap -mx-3 mb-6"),e(j,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(j,"for","price"),e(k,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-2.5 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(k,"type","number"),e(k,"id","price"),k.required=!0,e(k,"placeholder","400$"),e(F,"class","md:w-2/4 h-1/2 py-0 mb-6 md:mb-0"),e(z,"class","block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"),e(z,"for","files"),e(P,"class","appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-2 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),e(P,"type","file"),e(P,"id","images"),P.multiple=!0,e(P,"placeholder","Files"),e(H,"class","relative"),e(R,"class","md:w-2/4 h-1/2 px-3 mb-6 md:mb-0"),e(q,"class","flex flex-wrap -mx-3 mb-2 ms-0"),e(U,"type","button"),e(U,"class","flex w-full justify-center rounded-md bg-navy-1 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm transition duration-100 hover:bg-red-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),e(a,"class","w-full max-w-lg "),e(l,"class","flex pt-60 place-content-center place")},m(u,f){ve(u,l,f),t(l,a),t(a,s),t(s,d),t(d,r),t(r,Q),t(d,W),t(d,h),A(h,o[1].title),t(a,Y),t(a,T),t(T,y),t(y,L),t(L,m),t(y,re),t(y,I),A(I,o[1].description),t(y,_e),t(y,X),t(X,le),t(a,ye),t(a,V),t(V,B),t(B,G),t(G,se),t(B,we),t(B,w),A(w,o[1].author),t(V,Ee),t(V,N),t(N,O),t(O,oe),t(N,ke),t(N,E),A(E,o[1].authorEmail),t(a,xe),t(a,q),t(q,F),t(F,j),t(j,ie),t(F,Ie),t(F,k),A(k,o[1].price),t(q,De),t(q,R),t(R,z),t(z,ne),t(R,Ae),t(R,H),t(H,P),t(a,Le),t(a,U),x.m(U,null),Pe||(Ue=[K(h,"input",o[5]),K(I,"input",o[6]),K(w,"input",o[7]),K(E,"input",o[8]),K(k,"input",o[9]),K(P,"change",o[4]),K(U,"click",o[3])],Pe=!0)},p(u,[f]){f&4&&_!==(_=u[2]("Title")+"")&&C(Q,_),f&2&&h.value!==u[1].title&&A(h,u[1].title),f&4&&b!==(b=u[2]("Description")+"")&&C(m,b),f&2&&I.value!==u[1].description&&A(I,u[1].description),f&4&&Z!==(Z=u[2]("Make it as simple as informative")+"")&&C(le,Z),f&4&&$!==($=u[2]("Author Name")+"")&&C(se,$),f&2&&w.value!==u[1].author&&A(w,u[1].author),f&4&&ee!==(ee=u[2]("Author Email")+"")&&C(oe,ee),f&2&&E.value!==u[1].authorEmail&&A(E,u[1].authorEmail),f&4&&te!==(te=u[2]("Price")+"")&&C(ie,te),f&2&&Qe(k.value)!==u[1].price&&A(k,u[1].price),f&4&&ae!==(ae=u[2]("Files")+"")&&C(ne,ae),ue===(ue=Te(u))&&x?x.p(u,f):(x.d(1),x=ue(u),x&&(x.c(),x.m(U,null)))},i:ge,o:ge,d(u){u&&c(l),x.d(),Pe=!1,Xe(Ue)}}}function gt(o,l,a){let s;He(o,ut,b=>a(2,s=b)),ct("ru",dt),pt.set("ru");let d=!1,r={id:-1,title:"",description:"",author:"",authorEmail:"",price:"",images:[],date:new Date};async function _(b){b.preventDefault(),rt.currentUser;try{const m=await Promise.all(r.images.map(Q));a(1,r.images=m,r),nt(r),console.log("Form submitted"),a(0,d=!0)}catch(m){console.log("auth error",m)}}async function Q(b){try{const m=lt(st,`images/${b.name}`);return await ot(m,b),await it(m)}catch(m){console.log("error while uploading the image",m)}}function W(b){try{const m=b.target.files;a(1,r.images=Array.from(m),r)}catch(m){console.log("error while handleImageUpload",m)}}function h(){r.title=this.value,a(1,r)}function Y(){r.description=this.value,a(1,r)}function T(){r.author=this.value,a(1,r)}function y(){r.authorEmail=this.value,a(1,r)}function L(){r.price=Qe(this.value),a(1,r)}return[d,r,s,_,W,h,Y,T,y,L]}class vt extends je{constructor(l){super(),ze(this,l,gt,bt,Ke,{})}}function _t(o){let l,a,s,d;return document.title="Dashboard",s=new vt({}),{c(){l=i("meta"),a=g(),We(s.$$.fragment),this.h()},l(r){const _=Ye("svelte-1r5sch0",document.head);l=n(_,"META",{name:!0,content:!0}),_.forEach(c),a=v(r),Ze(s.$$.fragment,r),this.h()},h(){e(l,"name","dashboard"),e(l,"content","Admin dashboard, manage users and posts")},m(r,_){t(document.head,l),ve(r,a,_),$e(s,r,_),d=!0},p:ge,i(r){d||(et(s.$$.fragment,r),d=!0)},o(r){tt(s.$$.fragment,r),d=!1},d(r){c(l),r&&c(a),at(s,r)}}}class Dt extends je{constructor(l){super(),ze(this,l,null,_t,Ke,{})}}export{Dt as default};
