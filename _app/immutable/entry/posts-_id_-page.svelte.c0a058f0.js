import{S as Qe,i as Ye,s as Ze,e as R,b as A,E as M,h as u,G as Xe,o as He,W as tt,k as v,q as h,l as g,m as b,r as m,C as n,a as T,c as I,n as E,p as Ke,D as je,u as k,F as lt,T as ot,K as We,y as ze,P as st,z as Se,A as ye,g as x,d as ee,B as Be,v as rt,f as at}from"../chunks/index.64be94a8.js";import{R as nt,a as it}from"../chunks/Route.0fa8ebb6.js";import"../chunks/history.686f2e10.js";import{b as xe}from"../chunks/post.5e777d8b.js";import{p as et}from"../chunks/stores.ae95d11c.js";import{X as ct}from"../chunks/runtime.esm.e9757274.js";import"../chunks/store_.d32285d9.js";import"../chunks/firebase.11792937.js";import{b as ut}from"../chunks/paths.6ff89c19.js";function Fe(a,t,o){const e=a.slice();return e[13]=t[o],e}function ft(a){let t,o;return{c(){t=v("p"),o=h("Loading...")},l(e){t=g(e,"P",{});var l=b(t);o=m(l,"Loading..."),l.forEach(u)},m(e,l){A(e,t,l),n(t,o)},p:M,d(e){e&&u(t)}}}function _t(a){let t,o,e,l,s,r,p,_=a[2]("BACK")+"",d,N,P,L=a[2]("NEXT")+"",X,V,z,i,w,q=a[0].title+"",te,be,G,U=a[0].description+"",le,Ee,S,H=a[2]("Author")+"",oe,$e,K=a[0].author+"",se,ke,y,j=a[2]("Author Email")+"",re,Pe,W=a[0].authorEmail+"",ae,De,B,F=a[2]("Price")+"",ne,Ae,J=a[0].price+"",ie,Ne,C,Q=a[2]("Date")+"",ce,Te,Y=a[0].date+"",ue,Ie,O,Z=a[2]("SEND EMAIL TO AUTHOR")+"",fe,_e,Le,Ce;function Me(c,f){return c[0].images?ht:pt}let pe=Me(a),D=pe(a);return{c(){t=v("div"),o=v("div"),e=v("div"),D.c(),l=T(),s=v("div"),r=v("button"),p=h("← "),d=h(_),N=T(),P=v("button"),X=h(L),V=h(" →"),z=T(),i=v("div"),w=v("h1"),te=h(q),be=T(),G=v("p"),le=h(U),Ee=T(),S=v("p"),oe=h(H),$e=h(" : "),se=h(K),ke=T(),y=v("p"),re=h(j),Pe=h(" : "),ae=h(W),De=T(),B=v("p"),ne=h(F),Ae=h(" : "),ie=h(J),Ne=T(),C=v("p"),ce=h(Q),Te=h(" : "),ue=h(Y),Ie=T(),O=v("a"),fe=h(Z),this.h()},l(c){t=g(c,"DIV",{class:!0});var f=b(t);o=g(f,"DIV",{class:!0});var Ve=b(o);e=g(Ve,"DIV",{class:!0,style:!0});var Re=b(e);D.l(Re),Re.forEach(u),Ve.forEach(u),l=I(f),s=g(f,"DIV",{class:!0});var he=b(s);r=g(he,"BUTTON",{class:!0});var we=b(r);p=m(we,"← "),d=m(we,_),we.forEach(u),N=I(he),P=g(he,"BUTTON",{class:!0});var Oe=b(P);X=m(Oe,L),V=m(Oe," →"),Oe.forEach(u),he.forEach(u),f.forEach(u),z=I(c),i=g(c,"DIV",{class:!0});var $=b(i);w=g($,"H1",{});var qe=b(w);te=m(qe,q),qe.forEach(u),be=I($),G=g($,"P",{});var Ge=b(G);le=m(Ge,U),Ge.forEach(u),Ee=I($),S=g($,"P",{});var me=b(S);oe=m(me,H),$e=m(me," : "),se=m(me,K),me.forEach(u),ke=I($),y=g($,"P",{});var de=b(y);re=m(de,j),Pe=m(de," : "),ae=m(de,W),de.forEach(u),De=I($),B=g($,"P",{});var ve=b(B);ne=m(ve,F),Ae=m(ve," : "),ie=m(ve,J),ve.forEach(u),Ne=I($),C=g($,"P",{});var ge=b(C);ce=m(ge,Q),Te=m(ge," : "),ue=m(ge,Y),ge.forEach(u),Ie=I($),O=g($,"A",{href:!0,class:!0});var Ue=b(O);fe=m(Ue,Z),Ue.forEach(u),$.forEach(u),this.h()},h(){E(e,"class","slider-line svelte-uzc2z6"),Ke(e,"transform","translateX("+a[1]+"px)"),E(o,"class","slider svelte-uzc2z6"),E(r,"class","slider-back transition duration-100 hover:text-orange-0"),E(P,"class","slider-next transition duration-100 hover:text-orange-0"),E(s,"class","buttons items-center justify-center text-center content-center"),E(t,"class","container_slider"),E(O,"href",_e="mailto:"+a[0].authorEmail),E(O,"class","transition duration-100 hover:text-blue-0"),E(i,"class","items-center justify-center text-center content-center mt-4 bore")},m(c,f){A(c,t,f),n(t,o),n(o,e),D.m(e,null),n(t,l),n(t,s),n(s,r),n(r,p),n(r,d),n(s,N),n(s,P),n(P,X),n(P,V),A(c,z,f),A(c,i,f),n(i,w),n(w,te),n(i,be),n(i,G),n(G,le),n(i,Ee),n(i,S),n(S,oe),n(S,$e),n(S,se),n(i,ke),n(i,y),n(y,re),n(y,Pe),n(y,ae),n(i,De),n(i,B),n(B,ne),n(B,Ae),n(B,ie),n(i,Ne),n(i,C),n(C,ce),n(C,Te),n(C,ue),n(i,Ie),n(i,O),n(O,fe),Le||(Ce=[je(r,"click",a[3]),je(P,"click",a[4])],Le=!0)},p(c,f){pe===(pe=Me(c))&&D?D.p(c,f):(D.d(1),D=pe(c),D&&(D.c(),D.m(e,null))),f&2&&Ke(e,"transform","translateX("+c[1]+"px)"),f&4&&_!==(_=c[2]("BACK")+"")&&k(d,_),f&4&&L!==(L=c[2]("NEXT")+"")&&k(X,L),f&1&&q!==(q=c[0].title+"")&&k(te,q),f&1&&U!==(U=c[0].description+"")&&k(le,U),f&4&&H!==(H=c[2]("Author")+"")&&k(oe,H),f&1&&K!==(K=c[0].author+"")&&k(se,K),f&4&&j!==(j=c[2]("Author Email")+"")&&k(re,j),f&1&&W!==(W=c[0].authorEmail+"")&&k(ae,W),f&4&&F!==(F=c[2]("Price")+"")&&k(ne,F),f&1&&J!==(J=c[0].price+"")&&k(ie,J),f&4&&Q!==(Q=c[2]("Date")+"")&&k(ce,Q),f&1&&Y!==(Y=c[0].date+"")&&k(ue,Y),f&4&&Z!==(Z=c[2]("SEND EMAIL TO AUTHOR")+"")&&k(fe,Z),f&1&&_e!==(_e="mailto:"+c[0].authorEmail)&&E(O,"href",_e)},d(c){c&&u(t),D.d(),c&&u(z),c&&u(i),Le=!1,lt(Ce)}}}function pt(a){let t,o,e;return{c(){t=v("div"),o=v("p"),e=h("NO images")},l(l){t=g(l,"DIV",{});var s=b(t);o=g(s,"P",{});var r=b(o);e=m(r,"NO images"),r.forEach(u),s.forEach(u)},m(l,s){A(l,t,s),n(t,o),n(o,e)},p:M,d(l){l&&u(t)}}}function ht(a){let t,o=a[0].images,e=[];for(let l=0;l<o.length;l+=1)e[l]=Je(Fe(a,o,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=R()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);t=R()},m(l,s){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,s);A(l,t,s)},p(l,s){if(s&1){o=l[0].images;let r;for(r=0;r<o.length;r+=1){const p=Fe(l,o,r);e[r]?e[r].p(p,s):(e[r]=Je(p),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=o.length}},d(l){ot(e,l),l&&u(t)}}}function Je(a){let t,o,e;return{c(){t=v("img"),this.h()},l(l){t=g(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(t.src,o=a[13])||E(t,"src",o),E(t,"alt",e=a[0].title),E(t,"class","w-100 h-100 svelte-uzc2z6")},m(l,s){A(l,t,s)},p(l,s){s&1&&!We(t.src,o=l[13])&&E(t,"src",o),s&1&&e!==(e=l[0].title)&&E(t,"alt",e)},d(l){l&&u(t)}}}function mt(a){let t;function o(s,r){return s[0]?_t:ft}let e=o(a),l=e(a);return{c(){l.c(),t=R()},l(s){l.l(s),t=R()},m(s,r){l.m(s,r),A(s,t,r)},p(s,[r]){e===(e=o(s))&&l?l.p(s,r):(l.d(1),l=e(s),l&&(l.c(),l.m(t.parentNode,t)))},i:M,o:M,d(s){l.d(s),s&&u(t)}}}const dt=50;function vt(a,t,o){let e,l;Xe(a,et,i=>o(8,e=i)),Xe(a,ct,i=>o(2,l=i));let s={};const{id:r}=e.params;let p=!0;He(async()=>{try{o(0,s=await xe(r)),console.log(s),p=!1}catch{console.log("error fetching the blog post with id:",r)}});const _=tt();let d=0;function N(){o(1,d+=400),d>(s.images.length-1)*100&&o(1,d=0),_("swipe",{direction:"next",offset:d})}function P(){o(1,d-=400),d<0&&o(1,d=(s.images.length-1)*100),_("swipe",{direction:"back",offset:d})}let L,X;function V(i){L=i.touches[0].clientX}function z(i){X=i.changedTouches[0].clientX;const w=L-X;Math.abs(w)>dt&&(w>0?N():P())}return He(()=>{const i=document.querySelector(".slider-line");return i.addEventListener("touchstart",V),i.addEventListener("touchend",z),()=>{i.removeEventListener("touchstart",V),i.removeEventListener("touchend",z)}}),[s,d,l,N,P]}class gt extends Qe{constructor(t){super(),Ye(this,t,vt,mt,Ze,{})}}function bt(a){let t,o;return t=new gt({props:{post:a[0]}}),{c(){ze(t.$$.fragment)},l(e){Se(t.$$.fragment,e)},m(e,l){ye(t,e,l),o=!0},p(e,l){const s={};l&1&&(s.post=e[0]),t.$set(s)},i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){ee(t.$$.fragment,e),o=!1},d(e){Be(t,e)}}}function Et(a){let t;return{c(){t=h("LOADING")},l(o){t=m(o,"LOADING")},m(o,e){A(o,t,e)},p:M,i:M,o:M,d(o){o&&u(t)}}}function $t(a){let t,o,e,l;const s=[Et,bt],r=[];function p(_,d){return _[1]?0:1}return t=p(a),o=r[t]=s[t](a),{c(){o.c(),e=R()},l(_){o.l(_),e=R()},m(_,d){r[t].m(_,d),A(_,e,d),l=!0},p(_,d){let N=t;t=p(_),t===N?r[t].p(_,d):(rt(),ee(r[N],1,1,()=>{r[N]=null}),at(),o=r[t],o?o.p(_,d):(o=r[t]=s[t](_),o.c()),x(o,1),o.m(e.parentNode,e))},i(_){l||(x(o),l=!0)},o(_){ee(o),l=!1},d(_){r[t].d(_),_&&u(e)}}}function kt(a){let t,o;return t=new it({props:{path:`${ut}/posts/:id`,$$slots:{default:[$t,({params:e})=>({4:e}),({params:e})=>e?16:0]},$$scope:{ctx:a}}}),{c(){ze(t.$$.fragment)},l(e){Se(t.$$.fragment,e)},m(e,l){ye(t,e,l),o=!0},p(e,l){const s={};l&35&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){ee(t.$$.fragment,e),o=!1},d(e){Be(t,e)}}}function Pt(a){let t,o,e,l;return document.title="Page of the post",e=new nt({props:{$$slots:{default:[kt]},$$scope:{ctx:a}}}),{c(){t=v("meta"),o=T(),ze(e.$$.fragment),this.h()},l(s){const r=st("svelte-1hyxzw6",document.head);t=g(r,"META",{name:!0,content:!0}),r.forEach(u),o=I(s),Se(e.$$.fragment,s),this.h()},h(){E(t,"name","single blog page"),E(t,"content","Detailed blog post")},m(s,r){n(document.head,t),A(s,o,r),ye(e,s,r),l=!0},p(s,[r]){const p={};r&35&&(p.$$scope={dirty:r,ctx:s}),e.$set(p)},i(s){l||(x(e.$$.fragment,s),l=!0)},o(s){ee(e.$$.fragment,s),l=!1},d(s){u(t),s&&u(o),Be(e,s)}}}function Dt(a,t,o){let e;Xe(a,et,p=>o(2,e=p));let l={},s=!0;return(async()=>{try{const p=e.params.id;console.log(p),p?(o(0,l=await xe(p)),o(1,s=!1)):console.log("id is not exists on page params")}catch(p){console.log("error while loadPost",p)}})(),[l,s]}class St extends Qe{constructor(t){super(),Ye(this,t,Dt,Pt,Ze,{})}}export{St as default};
