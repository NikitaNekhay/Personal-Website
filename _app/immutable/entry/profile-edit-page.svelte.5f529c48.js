import{S as mt,i as pt,s as ft,k as o,y as ht,a as y,q as v,l as s,m as n,z as _t,c as A,r as g,h as r,n as a,a2 as At,b as vt,A as gt,C as t,O as X,a3 as it,D as ae,a4 as It,u as Q,g as bt,d as Et,B as yt,F as Ot,G as ut,o as Pt,a5 as wt,M as St,E as Tt}from"../chunks/index.b9428a69.js";import{g as Nt,u as ct}from"../chunks/clickOutside.6f8ec010.js";import{a as dt}from"../chunks/firebase.11792937.js";import{b as Dt}from"../chunks/store.bac6cf28.js";import"../chunks/paths.619499c4.js";import{P as kt}from"../chunks/ProfileOptions.096db614.js";import{X as xt,m as Vt,r as Lt,x as Ut}from"../chunks/ru.4cb9ce8e.js";function Ct(i){let d,l,u,_,e,b,N,z=i[1]("User name")+"",W,oe,k,p,D,f,G,se=i[1]("Email")+"",ce,Ie,Y,E,Oe,x,j,re=i[1]("Phone number")+"",de,Pe,Z,I,we,H,$,le=i[1]("Country")+"",me,Se,m,P,Te,ne=i[1]("Select Country")+"",pe,Ne,V,De,L,ke,U,xe,C,Ve,B,Le,q,Ue,R,Ce,M,Be,qe,F,J,ie=i[1]("Short description about you")+"",fe,Re,ee,w,Me,te,K,ue=i[1]("Submit")+"",he,O,Fe,Xe;return l=new kt({}),{c(){d=o("div"),ht(l.$$.fragment),u=y(),_=o("form"),e=o("div"),b=o("div"),N=o("label"),W=v(z),oe=y(),k=o("div"),p=o("input"),D=y(),f=o("div"),G=o("label"),ce=v(se),Ie=y(),Y=o("div"),E=o("input"),Oe=y(),x=o("div"),j=o("label"),de=v(re),Pe=y(),Z=o("div"),I=o("input"),we=y(),H=o("div"),$=o("label"),me=v(le),Se=y(),m=o("select"),P=o("option"),Te=v("-- "),pe=v(ne),Ne=v("  --"),V=o("option"),De=v("Russia"),L=o("option"),ke=v("Asia"),U=o("option"),xe=v("Europe"),C=o("option"),Ve=v("South America"),B=o("option"),Le=v("North America"),q=o("option"),Ue=v("Africa"),R=o("option"),Ce=v("Australia"),M=o("option"),Be=v("Antarctic"),qe=y(),F=o("div"),J=o("label"),fe=v(ie),Re=y(),ee=o("div"),w=o("textarea"),Me=y(),te=o("div"),K=o("button"),he=v(ue),this.h()},l(c){d=s(c,"DIV",{class:!0});var h=n(d);_t(l.$$.fragment,h),u=A(h),_=s(h,"FORM",{class:!0});var _e=n(_);e=s(_e,"DIV",{class:!0});var S=n(e);b=s(S,"DIV",{});var ve=n(b);N=s(ve,"LABEL",{for:!0,class:!0});var ze=n(N);W=g(ze,z),ze.forEach(r),oe=A(ve),k=s(ve,"DIV",{class:!0});var Ge=n(k);p=s(Ge,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Ge.forEach(r),ve.forEach(r),D=A(S),f=s(S,"DIV",{class:!0});var ge=n(f);G=s(ge,"LABEL",{for:!0,class:!0});var je=n(G);ce=g(je,se),je.forEach(r),Ie=A(ge),Y=s(ge,"DIV",{class:!0});var He=n(Y);E=s(He,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),He.forEach(r),ge.forEach(r),Oe=A(S),x=s(S,"DIV",{class:!0});var be=n(x);j=s(be,"LABEL",{for:!0,class:!0});var Je=n(j);de=g(Je,re),Je.forEach(r),Pe=A(be),Z=s(be,"DIV",{class:!0});var Ke=n(Z);I=s(Ke,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Ke.forEach(r),be.forEach(r),we=A(S),H=s(S,"DIV",{});var Ee=n(H);$=s(Ee,"LABEL",{class:!0});var Qe=n($);me=g(Qe,le),Qe.forEach(r),Se=A(Ee),m=s(Ee,"SELECT",{class:!0,id:!0});var T=n(m);P=s(T,"OPTION",{});var ye=n(P);Te=g(ye,"-- "),pe=g(ye,ne),Ne=g(ye,"  --"),ye.forEach(r),V=s(T,"OPTION",{});var We=n(V);De=g(We,"Russia"),We.forEach(r),L=s(T,"OPTION",{});var Ye=n(L);ke=g(Ye,"Asia"),Ye.forEach(r),U=s(T,"OPTION",{});var Ze=n(U);xe=g(Ze,"Europe"),Ze.forEach(r),C=s(T,"OPTION",{});var $e=n(C);Ve=g($e,"South America"),$e.forEach(r),B=s(T,"OPTION",{});var et=n(B);Le=g(et,"North America"),et.forEach(r),q=s(T,"OPTION",{});var tt=n(q);Ue=g(tt,"Africa"),tt.forEach(r),R=s(T,"OPTION",{});var at=n(R);Ce=g(at,"Australia"),at.forEach(r),M=s(T,"OPTION",{});var ot=n(M);Be=g(ot,"Antarctic"),ot.forEach(r),T.forEach(r),Ee.forEach(r),qe=A(S),F=s(S,"DIV",{class:!0});var Ae=n(F);J=s(Ae,"LABEL",{for:!0,class:!0});var st=n(J);fe=g(st,ie),st.forEach(r),Re=A(Ae),ee=s(Ae,"DIV",{class:!0});var rt=n(ee);w=s(rt,"TEXTAREA",{id:!0,rows:!0,class:!0}),n(w).forEach(r),rt.forEach(r),Ae.forEach(r),S.forEach(r),Me=A(_e),te=s(_e,"DIV",{class:!0});var lt=n(te);K=s(lt,"BUTTON",{type:!0,class:!0});var nt=n(K);he=g(nt,ue),nt.forEach(r),lt.forEach(r),_e.forEach(r),h.forEach(r),this.h()},h(){a(N,"for","first-name"),a(N,"class","block text-sm font-semibold leading-6 text-gray-900"),a(p,"type","text"),p.required=!0,a(p,"id","name"),a(p,"autocomplete","given-name"),a(p,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),a(k,"class","mt-2.5"),a(G,"for","email"),a(G,"class","block text-sm font-semibold leading-6 text-gray-900"),a(E,"type","email"),E.required=!0,a(E,"id","email"),a(E,"autocomplete","email"),a(E,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),a(Y,"class","mt-2.5"),a(f,"class","sm:col-span-2"),a(j,"for","phone-number"),a(j,"class","block text-sm font-semibold leading-6 text-gray-900"),a(I,"type","tel"),a(I,"id","phone"),I.required=!0,a(I,"autocomplete","tel"),a(I,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),a(Z,"class","relative mt-2.5"),a(x,"class","sm:col-span-2"),a($,"class","block font-bold"),P.__value="",P.value=P.__value,V.__value="Russia",V.value=V.__value,L.__value="Europe",L.value=L.__value,U.__value="Europe",U.value=U.__value,C.__value="South America",C.value=C.__value,B.__value="North America",B.value=B.__value,q.__value="Australia",q.value=q.__value,R.__value="Australia",R.value=R.__value,M.__value="Antarctic",M.value=M.__value,a(m,"class","w-full p-2 border rounded"),a(m,"id","country"),m.required=!0,i[0].country===void 0&&At(()=>i[6].call(m)),a(J,"for","message"),a(J,"class","block text-sm font-semibold leading-6 text-gray-900"),a(w,"id","description"),a(w,"rows","4"),a(w,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),a(ee,"class","mt-2.5"),a(F,"class","sm:col-span-2"),a(e,"class","grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"),a(K,"type","submit"),a(K,"class","block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),a(te,"class","mt-10"),a(_,"class","mx-auto mt-16 max-w-xl sm:mt-20"),a(d,"class","isolate bg-white px-6 py-24 sm:py-32 lg:px-8")},m(c,h){vt(c,d,h),gt(l,d,null),t(d,u),t(d,_),t(_,e),t(e,b),t(b,N),t(N,W),t(b,oe),t(b,k),t(k,p),X(p,i[0].name),t(e,D),t(e,f),t(f,G),t(G,ce),t(f,Ie),t(f,Y),t(Y,E),X(E,i[0].email),t(e,Oe),t(e,x),t(x,j),t(j,de),t(x,Pe),t(x,Z),t(Z,I),X(I,i[0].phone),t(e,we),t(e,H),t(H,$),t($,me),t(H,Se),t(H,m),t(m,P),t(P,Te),t(P,pe),t(P,Ne),t(m,V),t(V,De),t(m,L),t(L,ke),t(m,U),t(U,xe),t(m,C),t(C,Ve),t(m,B),t(B,Le),t(m,q),t(q,Ue),t(m,R),t(R,Ce),t(m,M),t(M,Be),it(m,i[0].country,!0),t(e,qe),t(e,F),t(F,J),t(J,fe),t(F,Re),t(F,ee),t(ee,w),X(w,i[0].description),t(_,Me),t(_,te),t(te,K),t(K,he),O=!0,Fe||(Xe=[ae(p,"input",i[3]),ae(E,"input",i[4]),ae(I,"input",i[5]),ae(m,"change",i[6]),ae(w,"input",i[7]),ae(_,"submit",It(i[2]))],Fe=!0)},p(c,[h]){(!O||h&2)&&z!==(z=c[1]("User name")+"")&&Q(W,z),h&1&&p.value!==c[0].name&&X(p,c[0].name),(!O||h&2)&&se!==(se=c[1]("Email")+"")&&Q(ce,se),h&1&&E.value!==c[0].email&&X(E,c[0].email),(!O||h&2)&&re!==(re=c[1]("Phone number")+"")&&Q(de,re),h&1&&X(I,c[0].phone),(!O||h&2)&&le!==(le=c[1]("Country")+"")&&Q(me,le),(!O||h&2)&&ne!==(ne=c[1]("Select Country")+"")&&Q(pe,ne),h&1&&it(m,c[0].country),(!O||h&2)&&ie!==(ie=c[1]("Short description about you")+"")&&Q(fe,ie),h&1&&X(w,c[0].description),(!O||h&2)&&ue!==(ue=c[1]("Submit")+"")&&Q(he,ue)},i(c){O||(bt(l.$$.fragment,c),O=!0)},o(c){Et(l.$$.fragment,c),O=!1},d(c){c&&r(d),yt(l),Fe=!1,Ot(Xe)}}}function Bt(i,d,l){let u,_;ut(i,Dt,p=>l(8,u=p)),ut(i,xt,p=>l(1,_=p)),Vt("ru",Lt),Ut.set("ru");let e={name:"",email:"",phone:"",country:"",description:"",messages:[]};Pt(()=>(console.log("updating profile..."),console.log("authStore in prfile.svelte before everything",u.data),dt.onAuthStateChanged(async D=>{let f=await Nt(D);D?(!u.data.name&&!u.data.email?(l(0,e.name=f.name,e),l(0,e.email=f.email,e),l(0,e.phone=f.phone,e),l(0,e.country=f.country,e),l(0,e.description=f.description,e),l(0,e.messages=f.messages,e)):(l(0,e.name=u.data.name,e),l(0,e.email=u.data.email,e),l(0,e.phone=u.data.phone,e),l(0,e.country=u.data.country,e),l(0,e.description=u.data.description,e),l(0,e.messages=u.data.messages,e)),ct(D,e.name,e.email,e.phone,e.country,e.description,e.messages)):console.log("no user in Profile.svelte")})));async function b(p){p.preventDefault();const D=dt.currentUser;console.log("authStore in prfile.svelte before handling",u.data);try{await ct(D,e.name,e.email,e.phone,e.country,e.description,e.messages).then(()=>{console.log("Profile updated successfully.")}).catch(f=>{console.error("Error updating profile:",f.message)})}catch(f){console.error(f.message)}console.log("authStore in prfile.svelte after handling",u.data)}function N(){e.name=this.value,l(0,e)}function z(){e.email=this.value,l(0,e)}function W(){e.phone=this.value,l(0,e)}function oe(){e.country=wt(this),l(0,e)}function k(){e.description=this.value,l(0,e)}return[e,_,b,N,z,W,oe,k]}class qt extends mt{constructor(d){super(),pt(this,d,Bt,Ct,ft,{})}}function Rt(i){let d,l,u,_;return document.title="",u=new qt({}),{c(){d=o("meta"),l=y(),ht(u.$$.fragment),this.h()},l(e){const b=St("svelte-1bku6lo",document.head);d=s(b,"META",{name:!0,content:!0}),b.forEach(r),l=A(e),_t(u.$$.fragment,e),this.h()},h(){a(d,"name","description"),a(d,"content","")},m(e,b){t(document.head,d),vt(e,l,b),gt(u,e,b),_=!0},p:Tt,i(e){_||(bt(u.$$.fragment,e),_=!0)},o(e){Et(u.$$.fragment,e),_=!1},d(e){r(d),e&&r(l),yt(u,e)}}}class Jt extends mt{constructor(d){super(),pt(this,d,null,Rt,ft,{})}}export{Jt as default};
