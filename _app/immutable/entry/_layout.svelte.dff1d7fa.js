import{S as ae,i as le,s as se,k as m,l as v,m as g,h as d,n as c,b as D,C as h,D as X,E as F,F as Me,G as me,o as je,q as A,a as N,r as I,c as O,H as Re,u as C,v as Te,d as q,f as Fe,g as z,y as ce,z as de,A as he,B as _e,I as $e,J as Je,K as qe,L as ze}from"../chunks/index.b9428a69.js";import{b as E}from"../chunks/paths.619499c4.js";import{a as He,r as Oe,d as Pe,J as Ue,s as We}from"../chunks/firebase.11792937.js";import{a as Ke,b as Be}from"../chunks/store.bac6cf28.js";import{g as Ge,c as Xe}from"../chunks/clickOutside.6f8ec010.js";import{X as ve,m as ge,r as pe,x as be}from"../chunks/ru.4cb9ce8e.js";function Qe(f){let e,t,a=f[3]("Profile")+"",o,n,i,l,r=f[3]("Logout")+"",s,b,w,u=f[1]&&Le(f);return{c(){e=m("div"),t=m("a"),o=A(a),n=N(),u&&u.c(),i=N(),l=m("a"),s=A(r),this.h()},l(_){e=v(_,"DIV",{class:!0});var p=g(e);t=v(p,"A",{class:!0,target:!0,href:!0});var y=g(t);o=I(y,a),y.forEach(d),n=O(p),u&&u.l(p),i=O(p),l=v(p,"A",{class:!0,target:!0,href:!0});var P=g(l);s=I(P,r),P.forEach(d),p.forEach(d),this.h()},h(){c(t,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(t,"target","_self"),c(t,"href",E+"/profile"),c(l,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(l,"target","_self"),c(l,"href",E+"/login"),c(e,"class","flex flex-col text-right rounded-lg text-black")},m(_,p){D(_,e,p),h(e,t),h(t,o),h(e,n),u&&u.m(e,null),h(e,i),h(e,l),h(l,s),b||(w=[X(l,"click",Ke.logout),Re(Xe.call(null,e)),X(e,"click_outside",f[4])],b=!0)},p(_,p){p&8&&a!==(a=_[3]("Profile")+"")&&C(o,a),_[1]?u?u.p(_,p):(u=Le(_),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p&8&&r!==(r=_[3]("Logout")+"")&&C(s,r)},d(_){_&&d(e),u&&u.d(),b=!1,Me(w)}}}function Ye(f){let e,t;return{c(){e=m("p"),t=A(f[2]),this.h()},l(a){e=v(a,"P",{class:!0});var o=g(e);t=I(o,f[2]),o.forEach(d),this.h()},h(){c(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0")},m(a,o){D(a,e,o),h(e,t)},p(a,o){o&4&&C(t,a[2])},d(a){a&&d(e)}}}function Le(f){let e,t=f[3]("Create")+"",a,o,n,i=f[3]("View")+"",l,r,s,b=f[3]("Stat")+"",w;return{c(){e=m("a"),a=A(t),o=N(),n=m("a"),l=A(i),r=N(),s=m("a"),w=A(b),this.h()},l(u){e=v(u,"A",{class:!0,target:!0,href:!0});var _=g(e);a=I(_,t),_.forEach(d),o=O(u),n=v(u,"A",{class:!0,target:!0,href:!0});var p=g(n);l=I(p,i),p.forEach(d),r=O(u),s=v(u,"A",{class:!0,target:!0,href:!0});var y=g(s);w=I(y,b),y.forEach(d),this.h()},h(){c(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(e,"target","_self"),c(e,"href",E+"/dashboard"),c(n,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(n,"target","_self"),c(n,"href",E+"/posts"),c(s,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(s,"target","_self"),c(s,"href",E+"/stat")},m(u,_){D(u,e,_),h(e,a),D(u,o,_),D(u,n,_),h(n,l),D(u,r,_),D(u,s,_),h(s,w)},p(u,_){_&8&&t!==(t=u[3]("Create")+"")&&C(a,t),_&8&&i!==(i=u[3]("View")+"")&&C(l,i),_&8&&b!==(b=u[3]("Stat")+"")&&C(w,b)},d(u){u&&d(e),u&&d(o),u&&d(n),u&&d(r),u&&d(s)}}}function Ze(f){let e,t,a,o;function n(r,s){return r[0]?Qe:Ye}let i=n(f),l=i(f);return{c(){e=m("div"),t=m("div"),l.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=g(e);t=v(s,"DIV",{class:!0});var b=g(t);l.l(b),b.forEach(d),s.forEach(d),this.h()},h(){c(t,"class","grid-column-auto grid-row-auto"),c(e,"class","menu relative cursor-pointer")},m(r,s){D(r,e,s),h(e,t),l.m(t,null),a||(o=[X(t,"click",f[5]),X(t,"keydown",f[5])],a=!0)},p(r,[s]){i===(i=n(r))&&l?l.p(r,s):(l.d(1),l=i(r),l&&(l.c(),l.m(t,null)))},i:F,o:F,d(r){r&&d(e),l.d(),a=!1,Me(o)}}}function et(f,e,t){let a;me(f,ve,s=>t(3,a=s)),ge("ru",pe),be.set("ru");let{isOpen:o=!1}=e,{isAdmin:n=!1}=e;function i(){t(0,o=!1)}function l(){t(0,o=!o)}let r="Mister";return je(()=>(console.log("getting the name of profile..."),He.onAuthStateChanged(async b=>{let w=await Ge(b);b&&(t(2,r=w.name),(w.email==="vaper20041337@gmail.com"||w.email==="ktofreesapiens@gmail.com")&&t(1,n=!0))}))),f.$$set=s=>{"isOpen"in s&&t(0,o=s.isOpen),"isAdmin"in s&&t(1,n=s.isAdmin)},[o,n,r,a,i,l]}class tt extends ae{constructor(e){super(),le(this,e,et,Ze,se,{isOpen:0,isAdmin:1})}}function rt(f){let e,t;return e=new tt({}),{c(){ce(e.$$.fragment)},l(a){de(e.$$.fragment,a)},m(a,o){he(e,a,o),t=!0},p:F,i(a){t||(z(e.$$.fragment,a),t=!0)},o(a){q(e.$$.fragment,a),t=!1},d(a){_e(e,a)}}}function at(f){let e,t=f[1]("Login")+"",a,o,n;return{c(){e=m("a"),a=A(t),this.h()},l(i){e=v(i,"A",{class:!0,target:!0,href:!0});var l=g(e);a=I(l,t),l.forEach(d),this.h()},h(){c(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),c(e,"target","_self"),c(e,"href",E+"/login")},m(i,l){D(i,e,l),h(e,a),o||(n=X(e,"click",Ke.login),o=!0)},p(i,l){l&2&&t!==(t=i[1]("Login")+"")&&C(a,t)},i:F,o:F,d(i){i&&d(e),o=!1,n()}}}function lt(f){let e,t,a,o,n,i,l,r,s,b,w,u,_,p,y=f[1]("About")+"",P,oe,L,U=f[1]("Contact")+"",Q,ne,M,j,W=f[1]("Diary")+"",Y,ie,H,B=f[1]("Works")+"",Z,ue,G,T,V,S,K;const we=[at,rt],R=[];function Ee(k,x){return k[0]==!1?0:1}return V=Ee(f),S=R[V]=we[V](f),{c(){e=m("nav"),t=m("div"),a=m("div"),o=m("div"),n=m("div"),i=m("h1"),l=m("p"),r=A("NIKITA"),s=m("p"),b=A("NIAKHAI"),w=N(),u=m("div"),_=m("div"),p=m("a"),P=A(y),oe=N(),L=m("a"),Q=A(U),ne=N(),M=m("div"),j=m("a"),Y=A(W),ie=N(),H=m("a"),Z=A(B),ue=N(),G=m("div"),T=m("div"),S.c(),this.h()},l(k){e=v(k,"NAV",{class:!0});var x=g(e);t=v(x,"DIV",{class:!0});var $=g(t);a=v($,"DIV",{class:!0});var ke=g(a);o=v(ke,"DIV",{class:!0});var J=g(o);n=v(J,"DIV",{class:!0});var ye=g(n);i=v(ye,"H1",{});var fe=g(i);l=v(fe,"P",{class:!0});var Ae=g(l);r=I(Ae,"NIKITA"),Ae.forEach(d),s=v(fe,"P",{});var Ie=g(s);b=I(Ie,"NIAKHAI"),Ie.forEach(d),fe.forEach(d),ye.forEach(d),w=O(J),u=v(J,"DIV",{class:!0});var ee=g(u);_=v(ee,"DIV",{class:!0});var te=g(_);p=v(te,"A",{class:!0,target:!0,href:!0});var De=g(p);P=I(De,y),De.forEach(d),oe=O(te),L=v(te,"A",{class:!0,target:!0,href:!0});var Ve=g(L);Q=I(Ve,U),Ve.forEach(d),te.forEach(d),ne=O(ee),M=v(ee,"DIV",{class:!0});var re=g(M);j=v(re,"A",{class:!0,target:!0,href:!0});var Se=g(j);Y=I(Se,W),Se.forEach(d),ie=O(re),H=v(re,"A",{class:!0,target:!0,href:!0});var xe=g(H);Z=I(xe,B),xe.forEach(d),re.forEach(d),ee.forEach(d),ue=O(J),G=v(J,"DIV",{});var Ce=g(G);T=v(Ce,"DIV",{class:!0});var Ne=g(T);S.l(Ne),Ne.forEach(d),Ce.forEach(d),J.forEach(d),ke.forEach(d),$.forEach(d),x.forEach(d),this.h()},h(){c(l,"class","flex justify-center"),c(n,"class","text-2xl "),c(p,"class","text-black no-underline hover:underline underline-offset-4"),c(p,"target","_self"),c(p,"href",E+"/about"),c(L,"class","text-black no-underline mx-20 hover:underline underline-offset-4"),c(L,"target","_self"),c(L,"href",E+"/contact"),c(_,"class","border-r-2 border-navy-2"),c(j,"class","text-black no-underline mx-20 hover:underline underline-offset-4"),c(j,"target","_self"),c(j,"href",E+"/diary"),c(H,"class","text-black no-underline hover:underline underline-offset-4"),c(H,"target","_self"),c(H,"href",E+"/"),c(M,"class","border-l-2 border-navy-2"),c(u,"class","flex items-center justify-between drop-shadow mx-20 "),c(T,"class","grid-column-auto grid-row-auto "),c(o,"class","flex items-center justify-between mx-2 w-full gap-16 "),c(a,"class","flex items-center justify-between mx-auto w-11/12 bg-white-1 shadow-white-2 drop-shadow-2xl border-x-4 border-navy-1"),c(t,"class","fixed top-0 z-30 w-full py-"),c(e,"class","flex w-screen font-anonymous")},m(k,x){D(k,e,x),h(e,t),h(t,a),h(a,o),h(o,n),h(n,i),h(i,l),h(l,r),h(i,s),h(s,b),h(o,w),h(o,u),h(u,_),h(_,p),h(p,P),h(_,oe),h(_,L),h(L,Q),h(u,ne),h(u,M),h(M,j),h(j,Y),h(M,ie),h(M,H),h(H,Z),h(o,ue),h(o,G),h(G,T),R[V].m(T,null),K=!0},p(k,[x]){(!K||x&2)&&y!==(y=k[1]("About")+"")&&C(P,y),(!K||x&2)&&U!==(U=k[1]("Contact")+"")&&C(Q,U),(!K||x&2)&&W!==(W=k[1]("Diary")+"")&&C(Y,W),(!K||x&2)&&B!==(B=k[1]("Works")+"")&&C(Z,B);let $=V;V=Ee(k),V===$?R[V].p(k,x):(Te(),q(R[$],1,1,()=>{R[$]=null}),Fe(),S=R[V],S?S.p(k,x):(S=R[V]=we[V](k),S.c()),z(S,1),S.m(T,null))},i(k){K||(z(S),K=!0)},o(k){q(S),K=!1},d(k){k&&d(e),R[V].d()}}}function st(f,e,t){let a;me(f,ve,r=>t(1,a=r)),ge("ru",pe),be.set("ru");const o=[`${E}/`,`${E}/about/`,`${E}/contact/`,`${E}/diary/`,`${E}/login/`];let{loginState:n=!1}=e,{readyExit:i=!1}=e,l="Mister";try{je(()=>(console.log("Mounting"),He.onAuthStateChanged(async s=>{var u;const b=window.location.pathname;if(console.log("we are hier: ",b),console.log("is appropriate path for (no user): ",o.includes(b)),s?(console.log("there is a user: ",s),s.email&&(l=s.email.slice(0,(u=s.email)==null?void 0:u.search("@")))):console.log("there is no user: ",s),s===null&&!o.includes(b)){window.location.href=`${E}/`,t(0,n=!1),t(2,i=!1);return}if(s!==null&&b===`${E}/login/`){window.location.href=`${E}/profile`,t(0,n=!0),t(2,i=!1);return}if(s&&b===`${E}/profile/`){t(2,i=!0),t(0,n=!0);return}if(s)t(0,n=!0);else{t(0,n=!1),t(2,i=!1);return}let w={email:s.email,messages:[]};if(s){const _=Oe(Pe,"user",s.uid),p=await Ue(_);if(p.exists())console.log("Fetching User"),w=p.data(),Be.update(P=>({...P,user:s,data:{...P.data,email:w.email},loading:!1}));else{console.log("Creating user");const y=Oe(Pe,"user",s.uid);w={email:s.email,messages:[]},await We(y,w,{merge:!0})}}})))}catch{console.log("error while mounting")}return f.$$set=r=>{"loginState"in r&&t(0,n=r.loginState),"readyExit"in r&&t(2,i=r.readyExit)},[n,a,i]}class ot extends ae{constructor(e){super(),le(this,e,st,lt,se,{loginState:0,readyExit:2})}}function nt(f){let e,t,a,o=f[0]("Dream big, work hard")+"",n;return{c(){e=m("nav"),t=m("footer"),a=m("div"),n=A(o),this.h()},l(i){e=v(i,"NAV",{class:!0});var l=g(e);t=v(l,"FOOTER",{class:!0});var r=g(t);a=v(r,"DIV",{});var s=g(a);n=I(s,o),s.forEach(d),r.forEach(d),l.forEach(d),this.h()},h(){c(t,"class","h-screen flex justify-center items-center"),c(e,"class","flex w-screen font-anonymous")},m(i,l){D(i,e,l),h(e,t),h(t,a),h(a,n)},p(i,[l]){l&1&&o!==(o=i[0]("Dream big, work hard")+"")&&C(n,o)},i:F,o:F,d(i){i&&d(e)}}}function it(f,e,t){let a;return me(f,ve,o=>t(0,a=o)),ge("ru",pe),be.set("ru"),[a]}class ut extends ae{constructor(e){super(),le(this,e,it,nt,se,{})}}function ft(f){let e,t,a,o,n;e=new ot({});const i=f[1].default,l=$e(i,f,f[0],null);return o=new ut({}),{c(){ce(e.$$.fragment),t=N(),l&&l.c(),a=N(),ce(o.$$.fragment)},l(r){de(e.$$.fragment,r),t=O(r),l&&l.l(r),a=O(r),de(o.$$.fragment,r)},m(r,s){he(e,r,s),D(r,t,s),l&&l.m(r,s),D(r,a,s),he(o,r,s),n=!0},p(r,[s]){l&&l.p&&(!n||s&1)&&Je(l,i,r,r[0],n?ze(i,r[0],s,null):qe(r[0]),null)},i(r){n||(z(e.$$.fragment,r),z(l,r),z(o.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l,r),q(o.$$.fragment,r),n=!1},d(r){_e(e,r),r&&d(t),l&&l.d(r),r&&d(a),_e(o,r)}}}function ct(f,e,t){let{$$slots:a={},$$scope:o}=e;return f.$$set=n=>{"$$scope"in n&&t(0,o=n.$$scope)},[o,a]}class pt extends ae{constructor(e){super(),le(this,e,ct,ft,se,{})}}export{pt as default};
