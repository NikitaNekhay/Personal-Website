import{S as nt,i as it,s as ut,k as o,q as x,a as I,l as n,m as u,r as E,h as s,c as D,n as e,a5 as dt,b as me,C as a,O as H,a6 as tt,D as U,P as mt,E as re,F as ct,L as pt,o as ft,a7 as ht,G as vt,a3 as at,a4 as rt,y as gt,M as bt,z as _t,A as yt,g as xt,d as Et,B as wt}from"../chunks/index.123fa864.js";import{g as kt,u as st,c as It}from"../chunks/clickOutside.279d5bd2.js";import{a as lt}from"../chunks/firebase.7a7c2902.js";import{b as Dt,a as Vt}from"../chunks/store.729a47b7.js";import{b as ot}from"../chunks/paths.4b1b31a5.js";function Pt(m){let i,r,l,t,d,c,S,b,v;return{c(){i=o("div"),r=o("div"),l=o("a"),t=x("View"),d=I(),c=o("a"),S=x("Deactivate"),this.h()},l(p){i=n(p,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-labelledby":!0,tabindex:!0});var V=u(i);r=n(V,"DIV",{class:!0,role:!0});var g=u(r);l=n(g,"A",{href:!0,class:!0,role:!0,tabindex:!0,id:!0});var f=u(l);t=E(f,"View"),f.forEach(s),d=D(g),c=n(g,"A",{href:!0,class:!0,role:!0,tabindex:!0,id:!0});var _=u(c);S=E(_,"Deactivate"),_.forEach(s),g.forEach(s),V.forEach(s),this.h()},h(){e(l,"href",ot+"/profile/"),e(l,"class","text-gray-700 block px-4 py-2 text-sm hover:text-yellow-0"),e(l,"role","menuitem"),e(l,"tabindex","-1"),e(l,"id","menu-item-0"),e(c,"href",ot+"/login"),e(c,"class","text-gray-700 block px-4 py-2 text-sm hover:text-yellow-0"),e(c,"role","menuitem"),e(c,"tabindex","-1"),e(c,"id","menu-item-1"),e(r,"class","py-1"),e(r,"role","none"),e(i,"class","absolute right-8 z-0 mt-0 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none "),e(i,"role","menu"),e(i,"aria-orientation","vertical"),e(i,"aria-labelledby","menu-button"),e(i,"tabindex","-1")},m(p,V){me(p,i,V),a(i,r),a(r,l),a(l,t),a(r,d),a(r,c),a(c,S),b||(v=[U(c,"click",Vt.deactivate),vt(It.call(null,r)),U(r,"click_outside",m[4])],b=!0)},p:re,d(p){p&&s(i),b=!1,ct(v)}}}function St(m){let i,r,l,t,d,c,S;return{c(){i=o("div"),r=o("button"),l=x(`Options
                  `),t=at("svg"),d=at("path"),this.h()},l(b){i=n(b,"DIV",{});var v=u(i);r=n(v,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-haspopup":!0});var p=u(r);l=E(p,`Options
                  `),t=rt(p,"svg",{class:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var V=u(t);d=rt(V,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),u(d).forEach(s),V.forEach(s),p.forEach(s),v.forEach(s),this.h()},h(){e(d,"fill-rule","evenodd"),e(d,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),e(d,"clip-rule","evenodd"),e(t,"class","-mr-1 h-5 w-5 text-gray-400"),e(t,"viewBox","0 0 20 20"),e(t,"fill","currentColor"),e(t,"aria-hidden","true"),e(r,"type","button"),e(r,"class","inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"),e(r,"id","menu-button"),e(r,"aria-expanded","true"),e(r,"aria-haspopup","true")},m(b,v){me(b,i,v),a(i,r),a(r,l),a(r,t),a(t,d),c||(S=U(r,"click",m[3]),c=!0)},p:re,d(b){b&&s(i),c=!1,S()}}}function At(m){let i,r,l,t,d,c,S,b,v,p,V,g,f,_,P,w,pe,W,A,fe,N,G,he,ve,Y,O,ge,M,X,be,_e,Z,T,ye,J,$,xe,Ee,y,q,we,j,ke,F,Ie,z,De,Ve,R,K,Pe,Se,ee,L,Ae,te,Q,Oe,Te,Le;function Be(h,k){return h[1]?Pt:St}let se=Be(m),C=se(m);return{c(){i=o("div"),r=o("div"),l=o("div"),t=o("h3"),d=x(`Applicant Information
          `),c=o("p"),S=x("Personal details and application."),b=I(),v=o("div"),p=o("div"),C.c(),V=I(),g=o("form"),f=o("div"),_=o("div"),P=o("label"),w=x("First name"),pe=I(),W=o("div"),A=o("input"),fe=I(),N=o("div"),G=o("label"),he=x("Email"),ve=I(),Y=o("div"),O=o("input"),ge=I(),M=o("div"),X=o("label"),be=x("Phone number"),_e=I(),Z=o("div"),T=o("input"),ye=I(),J=o("div"),$=o("label"),xe=x("Country"),Ee=I(),y=o("select"),q=o("option"),we=x("-- Select Country --"),j=o("option"),ke=x("USA"),F=o("option"),Ie=x("Canada"),z=o("option"),De=x("Mexico"),Ve=I(),R=o("div"),K=o("label"),Pe=x("Short description about you"),Se=I(),ee=o("div"),L=o("textarea"),Ae=I(),te=o("div"),Q=o("button"),Oe=x("Submit"),this.h()},l(h){i=n(h,"DIV",{class:!0});var k=u(i);r=n(k,"DIV",{class:!0});var Ue=u(r);l=n(Ue,"DIV",{class:!0});var le=u(l);t=n(le,"H3",{class:!0});var Ce=u(t);d=E(Ce,`Applicant Information
          `),c=n(Ce,"P",{class:!0});var Ne=u(c);S=E(Ne,"Personal details and application."),Ne.forEach(s),Ce.forEach(s),b=D(le),v=n(le,"DIV",{class:!0});var Me=u(v);p=n(Me,"DIV",{class:!0});var qe=u(p);C.l(qe),qe.forEach(s),Me.forEach(s),le.forEach(s),Ue.forEach(s),V=D(k),g=n(k,"FORM",{class:!0});var oe=u(g);f=n(oe,"DIV",{class:!0});var B=u(f);_=n(B,"DIV",{});var ne=u(_);P=n(ne,"LABEL",{for:!0,class:!0});var je=u(P);w=E(je,"First name"),je.forEach(s),pe=D(ne),W=n(ne,"DIV",{class:!0});var Fe=u(W);A=n(Fe,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Fe.forEach(s),ne.forEach(s),fe=D(B),N=n(B,"DIV",{class:!0});var ie=u(N);G=n(ie,"LABEL",{for:!0,class:!0});var ze=u(G);he=E(ze,"Email"),ze.forEach(s),ve=D(ie),Y=n(ie,"DIV",{class:!0});var Re=u(Y);O=n(Re,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Re.forEach(s),ie.forEach(s),ge=D(B),M=n(B,"DIV",{class:!0});var ue=u(M);X=n(ue,"LABEL",{for:!0,class:!0});var He=u(X);be=E(He,"Phone number"),He.forEach(s),_e=D(ue),Z=n(ue,"DIV",{class:!0});var Ge=u(Z);T=n(Ge,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Ge.forEach(s),ue.forEach(s),ye=D(B),J=n(B,"DIV",{});var ce=u(J);$=n(ce,"LABEL",{class:!0});var Xe=u($);xe=E(Xe,"Country"),Xe.forEach(s),Ee=D(ce),y=n(ce,"SELECT",{class:!0,id:!0});var ae=u(y);q=n(ae,"OPTION",{});var Je=u(q);we=E(Je,"-- Select Country --"),Je.forEach(s),j=n(ae,"OPTION",{});var Ke=u(j);ke=E(Ke,"USA"),Ke.forEach(s),F=n(ae,"OPTION",{});var Qe=u(F);Ie=E(Qe,"Canada"),Qe.forEach(s),z=n(ae,"OPTION",{});var We=u(z);De=E(We,"Mexico"),We.forEach(s),ae.forEach(s),ce.forEach(s),Ve=D(B),R=n(B,"DIV",{class:!0});var de=u(R);K=n(de,"LABEL",{for:!0,class:!0});var Ye=u(K);Pe=E(Ye,"Short description about you"),Ye.forEach(s),Se=D(de),ee=n(de,"DIV",{class:!0});var Ze=u(ee);L=n(Ze,"TEXTAREA",{id:!0,rows:!0,class:!0}),u(L).forEach(s),Ze.forEach(s),de.forEach(s),B.forEach(s),Ae=D(oe),te=n(oe,"DIV",{class:!0});var $e=u(te);Q=n($e,"BUTTON",{type:!0,class:!0});var et=u(Q);Oe=E(et,"Submit"),et.forEach(s),$e.forEach(s),oe.forEach(s),k.forEach(s),this.h()},h(){e(c,"class","mt-1 max-w-2xl text-sm leading-6 text-gray-500"),e(t,"class","text-base font-semibold leading-7 text-gray-900"),e(p,"class","inline-block text-left"),e(v,"class","flex items-center justify-between"),e(l,"class","flex items-center justify-between"),e(r,"class","px-4 sm:px-0 items-center justify-between"),e(P,"for","first-name"),e(P,"class","block text-sm font-semibold leading-6 text-gray-900"),e(A,"type","text"),A.required=!0,e(A,"id","name"),e(A,"autocomplete","given-name"),e(A,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),e(W,"class","mt-2.5"),e(G,"for","email"),e(G,"class","block text-sm font-semibold leading-6 text-gray-900"),e(O,"type","email"),O.required=!0,e(O,"id","email"),e(O,"autocomplete","email"),e(O,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),e(Y,"class","mt-2.5"),e(N,"class","sm:col-span-2"),e(X,"for","phone-number"),e(X,"class","block text-sm font-semibold leading-6 text-gray-900"),e(T,"type","tel"),e(T,"id","phone"),T.required=!0,e(T,"autocomplete","tel"),e(T,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),e(Z,"class","relative mt-2.5"),e(M,"class","sm:col-span-2"),e($,"class","block font-bold"),q.__value="",q.value=q.__value,j.__value="USA",j.value=j.__value,F.__value="Canada",F.value=F.__value,z.__value="Mexico",z.value=z.__value,e(y,"class","w-full p-2 border rounded"),e(y,"id","country"),y.required=!0,m[0].country===void 0&&dt(()=>m[8].call(y)),e(K,"for","message"),e(K,"class","block text-sm font-semibold leading-6 text-gray-900"),e(L,"id","description"),e(L,"rows","4"),e(L,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),e(ee,"class","mt-2.5"),e(R,"class","sm:col-span-2"),e(f,"class","grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"),e(Q,"type","submit"),e(Q,"class","block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),e(te,"class","mt-10"),e(g,"class","mx-auto mt-16 max-w-xl sm:mt-20"),e(i,"class","isolate bg-white px-6 py-24 sm:py-32 lg:px-8")},m(h,k){me(h,i,k),a(i,r),a(r,l),a(l,t),a(t,d),a(t,c),a(c,S),a(l,b),a(l,v),a(v,p),C.m(p,null),a(i,V),a(i,g),a(g,f),a(f,_),a(_,P),a(P,w),a(_,pe),a(_,W),a(W,A),H(A,m[0].name),a(f,fe),a(f,N),a(N,G),a(G,he),a(N,ve),a(N,Y),a(Y,O),H(O,m[0].email),a(f,ge),a(f,M),a(M,X),a(X,be),a(M,_e),a(M,Z),a(Z,T),H(T,m[0].phone),a(f,ye),a(f,J),a(J,$),a($,xe),a(J,Ee),a(J,y),a(y,q),a(q,we),a(y,j),a(j,ke),a(y,F),a(F,Ie),a(y,z),a(z,De),tt(y,m[0].country,!0),a(f,Ve),a(f,R),a(R,K),a(K,Pe),a(R,Se),a(R,ee),a(ee,L),H(L,m[0].description),a(g,Ae),a(g,te),a(te,Q),a(Q,Oe),Te||(Le=[U(A,"input",m[5]),U(O,"input",m[6]),U(T,"input",m[7]),U(y,"change",m[8]),U(L,"input",m[9]),U(g,"submit",mt(m[2]))],Te=!0)},p(h,[k]){se===(se=Be(h))&&C?C.p(h,k):(C.d(1),C=se(h),C&&(C.c(),C.m(p,null))),k&1&&A.value!==h[0].name&&H(A,h[0].name),k&1&&O.value!==h[0].email&&H(O,h[0].email),k&1&&H(T,h[0].phone),k&1&&tt(y,h[0].country),k&1&&H(L,h[0].description)},i:re,o:re,d(h){h&&s(i),C.d(),Te=!1,ct(Le)}}}function Ot(m,i,r){let l;pt(m,Dt,_=>r(10,l=_));let t={name:"",email:"",phone:"",country:"",description:"",messages:[]};ft(()=>(console.log("updating profile..."),console.log("authStore in prfile.svelte before everything",l.data),lt.onAuthStateChanged(async P=>{let w=await kt(P);P?(!l.data.name&&!l.data.email?(r(0,t.name=w.name,t),r(0,t.email=w.email,t),r(0,t.phone=w.phone,t),r(0,t.country=w.country,t),r(0,t.description=w.description,t),r(0,t.messages=w.messages,t)):(r(0,t.name=l.data.name,t),r(0,t.email=l.data.email,t),r(0,t.phone=l.data.phone,t),r(0,t.country=l.data.country,t),r(0,t.description=l.data.description,t),r(0,t.messages=l.data.messages,t)),st(P,t.name,t.email,t.phone,t.country,t.description,t.messages)):console.log("no user in Profile.svelte")})));async function d(_){_.preventDefault();const P=lt.currentUser;console.log("authStore in prfile.svelte before handling",l.data);try{await st(P,t.name,t.email,t.phone,t.country,t.description,t.messages).then(()=>{console.log("Profile updated successfully.")}).catch(w=>{console.error("Error updating profile:",w.message)})}catch(w){console.error(w.message)}console.log("authStore in prfile.svelte after handling",l.data)}let c=!1;function S(){r(1,c=!c)}function b(){r(1,c=!1)}function v(){t.name=this.value,r(0,t)}function p(){t.email=this.value,r(0,t)}function V(){t.phone=this.value,r(0,t)}function g(){t.country=ht(this),r(0,t)}function f(){t.description=this.value,r(0,t)}return[t,c,d,S,b,v,p,V,g,f]}class Tt extends nt{constructor(i){super(),it(this,i,Ot,At,ut,{})}}function Ct(m){let i,r,l,t;return document.title="",l=new Tt({}),{c(){i=o("meta"),r=I(),gt(l.$$.fragment),this.h()},l(d){const c=bt("svelte-1bku6lo",document.head);i=n(c,"META",{name:!0,content:!0}),c.forEach(s),r=D(d),_t(l.$$.fragment,d),this.h()},h(){e(i,"name","description"),e(i,"content","")},m(d,c){a(document.head,i),me(d,r,c),yt(l,d,c),t=!0},p:re,i(d){t||(xt(l.$$.fragment,d),t=!0)},o(d){Et(l.$$.fragment,d),t=!1},d(d){s(i),d&&s(r),wt(l,d)}}}class qt extends nt{constructor(i){super(),it(this,i,null,Ct,ut,{})}}export{qt as default};
