import{S as mt,i as bt,s as gt,k as n,q,a as w,l as i,m as d,r as R,h as c,c as v,n as t,b as Le,C as r,Q as T,D as G,u as j,E as de,F as vt,G as dt,y as ze,P as _t,z as He,A as Qe,g as fe,d as he,B as Xe,e as ft,v as xt,f as Et}from"../chunks/index.0e3fa2d8.js";import{a as yt,b as It,c as Pt,u as At,g as Dt}from"../chunks/firebase.11792937.js";import{u as ht}from"../chunks/post.20967798.js";import{p as $t}from"../chunks/stores.1d779f3f.js";import{X as kt}from"../chunks/runtime.esm.f6cad473.js";import"../chunks/store_.147f2933.js";import{R as Nt,a as Lt}from"../chunks/Route.b814bc25.js";import"../chunks/history.686f2e10.js";import{b as Tt}from"../chunks/paths.734ee7a2.js";function St(l){let s,e,a,p,u=l[1]("EDIT POST")+"",o,y,f,_,x,E,re,O,C=l[1]("Title")+"",z,se,b,m,I,k,Te,H,ae=l[1]("Description")+"",me,Se,Q,oe=l[1]("Make it as simple as informative")+"",be,Ue,F,X,S,P,Ve,J,le=l[1]("Author Name")+"",ge,Be,K,U,A,qe,W,ne=l[1]("Author Email")+"",we,Re,M,Y,V,D,Oe,Z,ie=l[1]("Price")+"",ve,Fe,ee,B,N,Me,ue,Ge,L,ce,je,te,pe=l[1]("Submit")+"",_e,Ce,Je;return{c(){s=n("div"),e=n("form"),a=n("div"),p=n("h1"),o=q(u),y=w(),f=n("div"),_=n("div"),x=n("label"),E=n("input"),re=w(),O=n("span"),z=q(C),se=w(),b=n("div"),m=n("div"),I=n("label"),k=n("input"),Te=w(),H=n("span"),me=q(ae),Se=w(),Q=n("p"),be=q(oe),Ue=w(),F=n("div"),X=n("div"),S=n("label"),P=n("input"),Ve=w(),J=n("span"),ge=q(le),Be=w(),K=n("div"),U=n("label"),A=n("input"),qe=w(),W=n("span"),we=q(ne),Re=w(),M=n("div"),Y=n("div"),V=n("label"),D=n("input"),Oe=w(),Z=n("span"),ve=q(ie),Fe=w(),ee=n("div"),B=n("label"),N=n("input"),Me=w(),ue=n("span"),Ge=w(),L=n("button"),ce=n("span"),je=w(),te=n("span"),_e=q(pe),this.h()},l(h){s=i(h,"DIV",{class:!0});var g=d(s);e=i(g,"FORM",{class:!0});var $=d(e);a=i($,"DIV",{class:!0});var Ke=d(a);p=i(Ke,"H1",{class:!0});var We=d(p);o=R(We,u),We.forEach(c),Ke.forEach(c),y=v($),f=i($,"DIV",{class:!0});var Ye=d(f);_=i(Ye,"DIV",{class:!0});var Ze=d(_);x=i(Ze,"LABEL",{class:!0,for:!0});var xe=d(x);E=i(xe,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),re=v(xe),O=i(xe,"SPAN",{class:!0});var et=d(O);z=R(et,C),et.forEach(c),xe.forEach(c),Ze.forEach(c),Ye.forEach(c),se=v($),b=i($,"DIV",{class:!0});var tt=d(b);m=i(tt,"DIV",{class:!0});var Ee=d(m);I=i(Ee,"LABEL",{class:!0,for:!0});var ye=d(I);k=i(ye,"INPUT",{class:!0,id:!0,placeholder:!0}),Te=v(ye),H=i(ye,"SPAN",{class:!0});var rt=d(H);me=R(rt,ae),rt.forEach(c),ye.forEach(c),Se=v(Ee),Q=i(Ee,"P",{class:!0});var st=d(Q);be=R(st,oe),st.forEach(c),Ee.forEach(c),tt.forEach(c),Ue=v($),F=i($,"DIV",{class:!0});var Ie=d(F);X=i(Ie,"DIV",{class:!0});var at=d(X);S=i(at,"LABEL",{class:!0,for:!0});var Pe=d(S);P=i(Pe,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Ve=v(Pe),J=i(Pe,"SPAN",{class:!0});var ot=d(J);ge=R(ot,le),ot.forEach(c),Pe.forEach(c),at.forEach(c),Be=v(Ie),K=i(Ie,"DIV",{class:!0});var lt=d(K);U=i(lt,"LABEL",{class:!0,for:!0});var Ae=d(U);A=i(Ae,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),qe=v(Ae),W=i(Ae,"SPAN",{class:!0});var nt=d(W);we=R(nt,ne),nt.forEach(c),Ae.forEach(c),lt.forEach(c),Ie.forEach(c),Re=v($),M=i($,"DIV",{class:!0});var De=d(M);Y=i(De,"DIV",{class:!0});var it=d(Y);V=i(it,"LABEL",{class:!0,for:!0});var $e=d(V);D=i($e,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Oe=v($e),Z=i($e,"SPAN",{class:!0});var ut=d(Z);ve=R(ut,ie),ut.forEach(c),$e.forEach(c),it.forEach(c),Fe=v(De),ee=i(De,"DIV",{class:!0});var ct=d(ee);B=i(ct,"LABEL",{class:!0,for:!0});var ke=d(B);N=i(ke,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Me=v(ke),ue=i(ke,"SPAN",{class:!0});var wt=d(ue);wt.forEach(c),ke.forEach(c),ct.forEach(c),De.forEach(c),Ge=v($),L=i($,"BUTTON",{class:!0,type:!0});var Ne=d(L);ce=i(Ne,"SPAN",{class:!0}),d(ce).forEach(c),je=v(Ne),te=i(Ne,"SPAN",{class:!0});var pt=d(te);_e=R(pt,pe),pt.forEach(c),Ne.forEach(c),$.forEach(c),g.forEach(c),this.h()},h(){t(p,"class","text-blue-0 text-4xl font-abril"),t(a,"class","flex justify-center mb-6"),t(E,"class","peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm"),t(E,"type","text"),t(E,"id","title"),E.required=!0,t(E,"placeholder","Title"),t(O,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(x,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(x,"for","title"),t(_,"class","w-full px-3"),t(f,"class","flex flex-wrap -mx-3 mb-6"),t(k,"class","peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm"),t(k,"id","description"),t(k,"placeholder","Description"),t(H,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(I,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(I,"for","description"),t(Q,"class","text-gray-600 text-xs italic mt-3"),t(m,"class","w-full px-3 h-full"),t(b,"class","flex flex-wrap -mx-3 mb-4"),t(P,"class","peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm"),t(P,"type","text"),t(P,"id","author"),t(P,"placeholder","Author"),P.required=!0,t(J,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(S,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(S,"for","author"),t(X,"class","w-full md:w-1/2 px-3 mb-6 md:mb-0"),t(A,"class","peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm"),t(A,"type","email"),t(A,"id","authorEmail"),t(A,"placeholder","email@web.net"),A.required=!0,t(W,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(U,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(U,"for","authorEmail"),t(K,"class","w-full md:w-1/2 px-3"),t(F,"class","flex flex-wrap -mx-3 mb-6"),t(D,"class","peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm"),t(D,"type","text"),t(D,"id","price"),t(D,"placeholder","400$"),D.required=!0,t(Z,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(V,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(V,"for","price"),t(Y,"class","w-2/5 mb-6"),t(N,"class","transparent peer bg-white-1 h-8 w-full border-none bg-transparent p-0 placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm text-center block"),t(N,"type","file"),t(N,"id","images"),N.multiple=!0,t(N,"placeholder","Files"),t(ue,"class","cursor-text absolute start-3 top-3 -translate-y-1/2 text-xs text-gray-700 bg-white-1 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs"),t(B,"class","block relative overflow-hidden bg-white-1 rounded-md border border-gray-200 px-3 pt-3 shadow-sm focus-within:border-white-2 focus-within:ring-1 focus-within:ring-white-2"),t(B,"for","files"),t(ee,"class","md:w-3/5 h-1/2 px-3 mb-3 md:mb-3"),t(M,"class","flex flex-wrap -mx-3 mb-2 ms-0"),t(ce,"class","absolute inset-x-0 bottom-0 h-[2px] bg-orange-0 transition-all group-hover:h-full group-active:bg-orange-0"),t(te,"class","relative text-sm font-medium text-orange-0 transition-colors group-hover:text-white"),t(L,"class","flex items-center mx-[136px] w-1/2 rounded-md justify-center group relative overflow-hidden border border-orange-0 px-8 py-3 focus:outline-none focus:ring"),t(L,"type","button"),t(e,"class","w-full max-w-lg "),t(s,"class","flex pt-60 place-content-center place")},m(h,g){Le(h,s,g),r(s,e),r(e,a),r(a,p),r(p,o),r(e,y),r(e,f),r(f,_),r(_,x),r(x,E),T(E,l[0].title),r(x,re),r(x,O),r(O,z),r(e,se),r(e,b),r(b,m),r(m,I),r(I,k),T(k,l[0].description),r(I,Te),r(I,H),r(H,me),r(m,Se),r(m,Q),r(Q,be),r(e,Ue),r(e,F),r(F,X),r(X,S),r(S,P),T(P,l[0].author),r(S,Ve),r(S,J),r(J,ge),r(F,Be),r(F,K),r(K,U),r(U,A),T(A,l[0].authorEmail),r(U,qe),r(U,W),r(W,we),r(e,Re),r(e,M),r(M,Y),r(Y,V),r(V,D),T(D,l[0].price),r(V,Oe),r(V,Z),r(Z,ve),r(M,Fe),r(M,ee),r(ee,B),r(B,N),r(B,Me),r(B,ue),r(e,Ge),r(e,L),r(L,ce),r(L,je),r(L,te),r(te,_e),Ce||(Je=[G(E,"input",l[5]),G(k,"input",l[6]),G(P,"input",l[7]),G(A,"input",l[8]),G(D,"input",l[9]),G(N,"change",l[3]),G(N,"change",l[10]),G(L,"click",l[2])],Ce=!0)},p(h,[g]){g&2&&u!==(u=h[1]("EDIT POST")+"")&&j(o,u),g&1&&E.value!==h[0].title&&T(E,h[0].title),g&2&&C!==(C=h[1]("Title")+"")&&j(z,C),g&1&&k.value!==h[0].description&&T(k,h[0].description),g&2&&ae!==(ae=h[1]("Description")+"")&&j(me,ae),g&2&&oe!==(oe=h[1]("Make it as simple as informative")+"")&&j(be,oe),g&1&&P.value!==h[0].author&&T(P,h[0].author),g&2&&le!==(le=h[1]("Author Name")+"")&&j(ge,le),g&1&&A.value!==h[0].authorEmail&&T(A,h[0].authorEmail),g&2&&ne!==(ne=h[1]("Author Email")+"")&&j(we,ne),g&1&&D.value!==h[0].price&&T(D,h[0].price),g&2&&ie!==(ie=h[1]("Price")+"")&&j(ve,ie),g&2&&pe!==(pe=h[1]("Submit")+"")&&j(_e,pe)},i:de,o:de,d(h){h&&c(s),Ce=!1,vt(Je)}}}function Ut(l,s,e){let a,p;dt(l,$t,b=>e(12,a=b)),dt(l,kt,b=>e(1,p=b));let{post:u=a.params}=s,o=u,y=!1;async function f(b){b.preventDefault(),yt.currentUser;try{if(y){const m=await Promise.all(o.images.map(_));console.log("These are imageUrls",m),e(0,o.images=m,o),ht(o.id,o.title,o.images,o.author,o.authorEmail,o.description,o.price,o.date)}else console.log("don't touch images"),ht(o.id,o.title,o.images,o.author,o.authorEmail,o.description,o.price,o.date);console.log("Form submitted")}catch(m){console.log("auth error",m)}}async function _(b){try{const m=It(Pt,`images/${b.name}`);await At(m,b);const I=await Dt(m);return console.log("Image uploaded:",I),I}catch(m){console.log("uploadImage error",m)}}function x(b){try{y=!0;const m=b.target.files;console.log(m),e(0,o.images=Array.from(m),o)}catch(m){console.log("handleImageUpload error",m)}}function E(){o.title=this.value,e(0,o)}function re(){o.description=this.value,e(0,o)}function O(){o.author=this.value,e(0,o)}function C(){o.authorEmail=this.value,e(0,o)}function z(){o.price=this.value,e(0,o)}function se(){o.images=this.value,e(0,o)}return l.$$set=b=>{"post"in b&&e(4,u=b.post)},[o,p,f,x,u,E,re,O,C,z,se]}class Vt extends mt{constructor(s){super(),bt(this,s,Ut,St,gt,{post:4})}}function Bt(l){let s,e;return s=new Vt({props:{post:l[0].post}}),{c(){ze(s.$$.fragment)},l(a){He(s.$$.fragment,a)},m(a,p){Qe(s,a,p),e=!0},p(a,p){const u={};p&1&&(u.post=a[0].post),s.$set(u)},i(a){e||(fe(s.$$.fragment,a),e=!0)},o(a){he(s.$$.fragment,a),e=!1},d(a){Xe(s,a)}}}function qt(l){let s;return{c(){s=q("LOADING")},l(e){s=R(e,"LOADING")},m(e,a){Le(e,s,a)},p:de,i:de,o:de,d(e){e&&c(s)}}}function Rt(l){let s,e,a,p;const u=[qt,Bt],o=[];function y(f,_){return f[1]?0:1}return s=y(l),e=o[s]=u[s](l),{c(){e.c(),a=ft()},l(f){e.l(f),a=ft()},m(f,_){o[s].m(f,_),Le(f,a,_),p=!0},p(f,_){let x=s;s=y(f),s===x?o[s].p(f,_):(xt(),he(o[x],1,1,()=>{o[x]=null}),Et(),e=o[s],e?e.p(f,_):(e=o[s]=u[s](f),e.c()),fe(e,1),e.m(a.parentNode,a))},i(f){p||(fe(e),p=!0)},o(f){he(e),p=!1},d(f){o[s].d(f),f&&c(a)}}}function Ot(l){let s,e;return s=new Lt({props:{path:`${Tt}/posts/:id/edit/`,$$slots:{default:[Rt,({params:a})=>({2:a}),({params:a})=>a?4:0]},$$scope:{ctx:l}}}),{c(){ze(s.$$.fragment)},l(a){He(s.$$.fragment,a)},m(a,p){Qe(s,a,p),e=!0},p(a,p){const u={};p&11&&(u.$$scope={dirty:p,ctx:a}),s.$set(u)},i(a){e||(fe(s.$$.fragment,a),e=!0)},o(a){he(s.$$.fragment,a),e=!1},d(a){Xe(s,a)}}}function Ft(l){let s,e,a,p;return document.title="Edit page of the post",a=new Nt({props:{$$slots:{default:[Ot]},$$scope:{ctx:l}}}),{c(){s=n("meta"),e=w(),ze(a.$$.fragment),this.h()},l(u){const o=_t("svelte-ql95em",document.head);s=i(o,"META",{name:!0,content:!0}),o.forEach(c),e=v(u),He(a.$$.fragment,u),this.h()},h(){t(s,"name","edit of a single blog page"),t(s,"content","Edit form for the blog post")},m(u,o){r(document.head,s),Le(u,e,o),Qe(a,u,o),p=!0},p(u,[o]){const y={};o&11&&(y.$$scope={dirty:o,ctx:u}),a.$set(y)},i(u){p||(fe(a.$$.fragment,u),p=!0)},o(u){he(a.$$.fragment,u),p=!1},d(u){c(s),u&&c(e),Xe(a,u)}}}function Mt(l,s,e){let a=!0,{data:p}=s;return p.post!==void 0&&(a=!1),l.$$set=u=>{"data"in u&&e(0,p=u.data)},[p,a]}class Wt extends mt{constructor(s){super(),bt(this,s,Mt,Ft,gt,{data:0})}}export{Wt as default};
