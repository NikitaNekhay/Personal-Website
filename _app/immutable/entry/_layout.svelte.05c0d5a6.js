import{S as G,i as Q,s as X,k as m,l as _,m as g,h as f,n as i,b as A,C as u,D as q,E as C,F as Ae,o as Ie,q as k,a as V,r as x,c as S,G as Se,u as Ce,v as Ne,d as T,f as Oe,g as F,y as oe,z as ne,A as ie,B as ce,H as Pe,I as Me,J as $e,K as je}from"../chunks/index.123fa864.js";import{b as p}from"../chunks/paths.d39435f3.js";import{a as De,r as Ee,d as ke,J as He,s as Ke}from"../chunks/firebase.7a7c2902.js";import{a as Ve,b as Le}from"../chunks/store.729a47b7.js";import{g as Re,c as Te}from"../chunks/clickOutside.279d5bd2.js";function Fe(h){let e,r,s,a,n,c,l,t,o,d=h[1]&&xe();return{c(){e=m("div"),r=m("a"),s=k("Profile"),a=V(),d&&d.c(),n=V(),c=m("a"),l=k("Logout"),this.h()},l(b){e=_(b,"DIV",{class:!0});var v=g(e);r=_(v,"A",{class:!0,target:!0,href:!0});var w=g(r);s=x(w,"Profile"),w.forEach(f),a=S(v),d&&d.l(v),n=S(v),c=_(v,"A",{class:!0,target:!0,href:!0});var y=g(c);l=x(y,"Logout"),y.forEach(f),v.forEach(f),this.h()},h(){i(r,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(r,"target","_self"),i(r,"href",p+"/profile"),i(c,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(c,"target","_self"),i(c,"href",p+"/login"),i(e,"class","flex flex-col text-right rounded-lg text-black")},m(b,v){A(b,e,v),u(e,r),u(r,s),u(e,a),d&&d.m(e,null),u(e,n),u(e,c),u(c,l),t||(o=[q(c,"click",Ve.logout),Se(Te.call(null,e)),q(e,"click_outside",h[3])],t=!0)},p(b,v){b[1]?d?d.p(b,v):(d=xe(),d.c(),d.m(e,n)):d&&(d.d(1),d=null)},d(b){b&&f(e),d&&d.d(),t=!1,Ae(o)}}}function Je(h){let e,r;return{c(){e=m("p"),r=k(h[2]),this.h()},l(s){e=_(s,"P",{class:!0});var a=g(e);r=x(a,h[2]),a.forEach(f),this.h()},h(){i(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0")},m(s,a){A(s,e,a),u(e,r)},p(s,a){a&4&&Ce(r,s[2])},d(s){s&&f(e)}}}function xe(h){let e,r,s,a,n,c,l,t;return{c(){e=m("a"),r=k("Create"),s=V(),a=m("a"),n=k("View"),c=V(),l=m("a"),t=k("Stat"),this.h()},l(o){e=_(o,"A",{class:!0,target:!0,href:!0});var d=g(e);r=x(d,"Create"),d.forEach(f),s=S(o),a=_(o,"A",{class:!0,target:!0,href:!0});var b=g(a);n=x(b,"View"),b.forEach(f),c=S(o),l=_(o,"A",{class:!0,target:!0,href:!0});var v=g(l);t=x(v,"Stat"),v.forEach(f),this.h()},h(){i(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(e,"target","_self"),i(e,"href",p+"/dashboard"),i(a,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(a,"target","_self"),i(a,"href",p+"/posts"),i(l,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(l,"target","_self"),i(l,"href",p+"/stat")},m(o,d){A(o,e,d),u(e,r),A(o,s,d),A(o,a,d),u(a,n),A(o,c,d),A(o,l,d),u(l,t)},p:C,d(o){o&&f(e),o&&f(s),o&&f(a),o&&f(c),o&&f(l)}}}function qe(h){let e,r,s,a;function n(t,o){return t[0]?Fe:Je}let c=n(h),l=c(h);return{c(){e=m("div"),r=m("div"),l.c(),this.h()},l(t){e=_(t,"DIV",{class:!0});var o=g(e);r=_(o,"DIV",{class:!0});var d=g(r);l.l(d),d.forEach(f),o.forEach(f),this.h()},h(){i(r,"class","grid-column-auto grid-row-auto"),i(e,"class","menu relative cursor-pointer")},m(t,o){A(t,e,o),u(e,r),l.m(r,null),s||(a=[q(r,"click",h[4]),q(r,"keydown",h[4])],s=!0)},p(t,[o]){c===(c=n(t))&&l?l.p(t,o):(l.d(1),l=c(t),l&&(l.c(),l.m(r,null)))},i:C,o:C,d(t){t&&f(e),l.d(),s=!1,Ae(a)}}}function ze(h,e,r){let{isOpen:s=!1}=e,{isAdmin:a=!1}=e;function n(){r(0,s=!1)}function c(){r(0,s=!s)}let l="Mister";return Ie(()=>(console.log("getting the name of profile..."),De.onAuthStateChanged(async o=>{let d=await Re(o);o&&(r(2,l=d.name),(d.email==="vaper20041337@gmail.com"||d.email==="ktofreesapiens@gmail.com")&&r(1,a=!0))}))),h.$$set=t=>{"isOpen"in t&&r(0,s=t.isOpen),"isAdmin"in t&&r(1,a=t.isAdmin)},[s,a,l,n,c]}class Ue extends G{constructor(e){super(),Q(this,e,ze,qe,X,{isOpen:0,isAdmin:1})}}function We(h){let e,r;return e=new Ue({}),{c(){oe(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p:C,i(s){r||(F(e.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),r=!1},d(s){ce(e,s)}}}function Be(h){let e,r,s,a;return{c(){e=m("a"),r=k("Login"),this.h()},l(n){e=_(n,"A",{class:!0,target:!0,href:!0});var c=g(e);r=x(c,"Login"),c.forEach(f),this.h()},h(){i(e,"class","col-span-full grid-row-auto transition duration-100 hover:text-yellow-0"),i(e,"target","_self"),i(e,"href",p+"/login")},m(n,c){A(n,e,c),u(e,r),s||(a=q(e,"click",Ve.login),s=!0)},p:C,i:C,o:C,d(n){n&&f(e),s=!1,a()}}}function Ge(h){let e,r,s,a,n,c,l,t,o,d,b,v,w,y,K,Y,N,Z,ee,O,P,te,re,M,ae,se,J,H,I,D,z;const fe=[Be,We],$=[];function ue(E,j){return E[0]==!1?0:1}return I=ue(h),D=$[I]=fe[I](h),{c(){e=m("nav"),r=m("div"),s=m("div"),a=m("div"),n=m("div"),c=m("h1"),l=m("p"),t=k("NIKITA"),o=m("p"),d=k("NIAKHAI"),b=V(),v=m("div"),w=m("div"),y=m("a"),K=k("About"),Y=V(),N=m("a"),Z=k("Contact"),ee=V(),O=m("div"),P=m("a"),te=k("Diary"),re=V(),M=m("a"),ae=k("Works"),se=V(),J=m("div"),H=m("div"),D.c(),this.h()},l(E){e=_(E,"NAV",{class:!0});var j=g(e);r=_(j,"DIV",{class:!0});var L=g(r);s=_(L,"DIV",{class:!0});var de=g(s);a=_(de,"DIV",{class:!0});var R=g(a);n=_(R,"DIV",{class:!0});var he=g(n);c=_(he,"H1",{});var le=g(c);l=_(le,"P",{class:!0});var me=g(l);t=x(me,"NIKITA"),me.forEach(f),o=_(le,"P",{});var _e=g(o);d=x(_e,"NIAKHAI"),_e.forEach(f),le.forEach(f),he.forEach(f),b=S(R),v=_(R,"DIV",{class:!0});var U=g(v);w=_(U,"DIV",{class:!0});var W=g(w);y=_(W,"A",{class:!0,target:!0,href:!0});var ge=g(y);K=x(ge,"About"),ge.forEach(f),Y=S(W),N=_(W,"A",{class:!0,target:!0,href:!0});var ve=g(N);Z=x(ve,"Contact"),ve.forEach(f),W.forEach(f),ee=S(U),O=_(U,"DIV",{class:!0});var B=g(O);P=_(B,"A",{class:!0,target:!0,href:!0});var pe=g(P);te=x(pe,"Diary"),pe.forEach(f),re=S(B),M=_(B,"A",{class:!0,target:!0,href:!0});var be=g(M);ae=x(be,"Works"),be.forEach(f),B.forEach(f),U.forEach(f),se=S(R),J=_(R,"DIV",{});var we=g(J);H=_(we,"DIV",{class:!0});var ye=g(H);D.l(ye),ye.forEach(f),we.forEach(f),R.forEach(f),de.forEach(f),L.forEach(f),j.forEach(f),this.h()},h(){i(l,"class","flex justify-center"),i(n,"class","text-2xl "),i(y,"class","text-black no-underline hover:underline underline-offset-4"),i(y,"target","_self"),i(y,"href",p+"/about"),i(N,"class","text-black no-underline mx-20 hover:underline underline-offset-4"),i(N,"target","_self"),i(N,"href",p+"/contact"),i(w,"class","border-r-2 border-navy-2"),i(P,"class","text-black no-underline mx-20 hover:underline underline-offset-4"),i(P,"target","_self"),i(P,"href",p+"/diary"),i(M,"class","text-black no-underline hover:underline underline-offset-4"),i(M,"target","_self"),i(M,"href",p+"/"),i(O,"class","border-l-2 border-navy-2"),i(v,"class","flex items-center justify-between drop-shadow mx-20 "),i(H,"class","grid-column-auto grid-row-auto "),i(a,"class","flex items-center justify-between mx-2 w-full gap-16 "),i(s,"class","flex items-center justify-between mx-auto w-11/12 bg-white-1 shadow-white-2 drop-shadow-2xl border-x-4 border-navy-1"),i(r,"class","fixed top-0 z-30 w-full py-"),i(e,"class","flex w-screen font-anonymous")},m(E,j){A(E,e,j),u(e,r),u(r,s),u(s,a),u(a,n),u(n,c),u(c,l),u(l,t),u(c,o),u(o,d),u(a,b),u(a,v),u(v,w),u(w,y),u(y,K),u(w,Y),u(w,N),u(N,Z),u(v,ee),u(v,O),u(O,P),u(P,te),u(O,re),u(O,M),u(M,ae),u(a,se),u(a,J),u(J,H),$[I].m(H,null),z=!0},p(E,[j]){let L=I;I=ue(E),I===L?$[I].p(E,j):(Ne(),T($[L],1,1,()=>{$[L]=null}),Oe(),D=$[I],D?D.p(E,j):(D=$[I]=fe[I](E),D.c()),F(D,1),D.m(H,null))},i(E){z||(F(D),z=!0)},o(E){T(D),z=!1},d(E){E&&f(e),$[I].d()}}}function Qe(h,e,r){const s=[`${p}/`,`${p}/about/`,`${p}/contact/`,`${p}/diary/`,`${p}/login/`];let{loginState:a=!1}=e,{readyExit:n=!1}=e,c="Mister";try{Ie(()=>(console.log("Mounting"),De.onAuthStateChanged(async t=>{var b;const o=window.location.pathname;if(console.log("we are hier: ",o),console.log("is appropriate path for (no user): ",s.includes(o)),t?(console.log("there is a user: ",t),t.email&&(c=t.email.slice(0,(b=t.email)==null?void 0:b.search("@")))):console.log("there is no user: ",t),t===null&&!s.includes(o)){window.location.href=`${p}/`,r(0,a=!1),r(1,n=!1);return}if(t!==null&&o===`${p}/login/`){window.location.href=`${p}/profile`,r(0,a=!0),r(1,n=!1);return}if(t&&o===`${p}/profile/`){r(1,n=!0),r(0,a=!0);return}if(t)r(0,a=!0);else{r(0,a=!1),r(1,n=!1);return}let d={email:t.email,messages:[]};if(t){const v=Ee(ke,"user",t.uid),w=await He(v);if(w.exists())console.log("Fetching User"),d=w.data(),Le.update(K=>({...K,user:t,data:{...K.data,email:d.email},loading:!1}));else{console.log("Creating user");const y=Ee(ke,"user",t.uid);d={email:t.email,messages:[]},await Ke(y,d,{merge:!0})}}})))}catch{console.log("error while mounting")}return h.$$set=l=>{"loginState"in l&&r(0,a=l.loginState),"readyExit"in l&&r(1,n=l.readyExit)},[a,n]}class Xe extends G{constructor(e){super(),Q(this,e,Qe,Ge,X,{loginState:0,readyExit:1})}}function Ye(h){let e,r,s,a;return{c(){e=m("nav"),r=m("footer"),s=m("div"),a=k("Dream big, work hard"),this.h()},l(n){e=_(n,"NAV",{class:!0});var c=g(e);r=_(c,"FOOTER",{class:!0});var l=g(r);s=_(l,"DIV",{});var t=g(s);a=x(t,"Dream big, work hard"),t.forEach(f),l.forEach(f),c.forEach(f),this.h()},h(){i(r,"class","h-screen flex justify-center items-center"),i(e,"class","flex w-screen font-anonymous")},m(n,c){A(n,e,c),u(e,r),u(r,s),u(s,a)},p:C,i:C,o:C,d(n){n&&f(e)}}}class Ze extends G{constructor(e){super(),Q(this,e,null,Ye,X,{})}}function et(h){let e,r,s,a,n;e=new Xe({});const c=h[1].default,l=Pe(c,h,h[0],null);return a=new Ze({}),{c(){oe(e.$$.fragment),r=V(),l&&l.c(),s=V(),oe(a.$$.fragment)},l(t){ne(e.$$.fragment,t),r=S(t),l&&l.l(t),s=S(t),ne(a.$$.fragment,t)},m(t,o){ie(e,t,o),A(t,r,o),l&&l.m(t,o),A(t,s,o),ie(a,t,o),n=!0},p(t,[o]){l&&l.p&&(!n||o&1)&&Me(l,c,t,t[0],n?je(c,t[0],o,null):$e(t[0]),null)},i(t){n||(F(e.$$.fragment,t),F(l,t),F(a.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),T(l,t),T(a.$$.fragment,t),n=!1},d(t){ce(e,t),t&&f(r),l&&l.d(t),t&&f(s),ce(a,t)}}}function tt(h,e,r){let{$$slots:s={},$$scope:a}=e;return h.$$set=n=>{"$$scope"in n&&r(0,a=n.$$scope)},[a,s]}class nt extends G{constructor(e){super(),Q(this,e,tt,et,X,{})}}export{nt as default};
