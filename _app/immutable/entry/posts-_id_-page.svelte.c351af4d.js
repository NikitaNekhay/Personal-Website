import{S as Qe,i as Ye,s as Ze,e as R,b as P,E as V,h as u,G as Xe,o as He,U as tt,k as v,q as m,l as g,m as b,r as h,C as n,a as T,c as I,n as E,p as je,D as Ke,u as k,F as lt,T as st,N as Fe,y as ze,M as ot,z as Me,A as Se,g as x,d as ee,B as Be,v as rt,f as at}from"../chunks/index.b9428a69.js";import{R as nt,a as it}from"../chunks/Route.5dfc5283.js";import"../chunks/history.686f2e10.js";import{b as xe}from"../chunks/post.59092c10.js";import{p as et}from"../chunks/stores.ad0b7b96.js";import"../chunks/store.bac6cf28.js";import"../chunks/firebase.11792937.js";import{b as ct}from"../chunks/paths.7e4954ab.js";import{X as ut,m as ft,r as _t,x as pt}from"../chunks/ru.4cb9ce8e.js";/* empty css                                                         */function We(a,t,s){const e=a.slice();return e[13]=t[s],e}function mt(a){let t,s;return{c(){t=v("p"),s=m("Loading...")},l(e){t=g(e,"P",{});var l=b(t);s=h(l,"Loading..."),l.forEach(u)},m(e,l){P(e,t,l),n(t,s)},p:V,d(e){e&&u(t)}}}function ht(a){let t,s,e,l,o,r,p,_=a[2]("BACK")+"",d,A,D,L=a[2]("NEXT")+"",X,y,z,i,w,U=a[0].title+"",te,be,q,G=a[0].description+"",le,Ee,M,H=a[2]("Author")+"",se,$e,j=a[0].author+"",oe,ke,S,K=a[2]("Author Email")+"",re,De,F=a[0].authorEmail+"",ae,Ne,B,W=a[2]("Price")+"",ne,Pe,J=a[0].price+"",ie,Ae,C,Q=a[2]("Date")+"",ce,Te,Y=a[0].date+"",ue,Ie,O,Z=a[2]("SEND EMAIL TO AUTHOR")+"",fe,_e,Le,Ce;function Ve(c,f){return c[0].images?vt:dt}let pe=Ve(a),N=pe(a);return{c(){t=v("div"),s=v("div"),e=v("div"),N.c(),l=T(),o=v("div"),r=v("button"),p=m("← "),d=m(_),A=T(),D=v("button"),X=m(L),y=m(" →"),z=T(),i=v("div"),w=v("h1"),te=m(U),be=T(),q=v("p"),le=m(G),Ee=T(),M=v("p"),se=m(H),$e=m(" : "),oe=m(j),ke=T(),S=v("p"),re=m(K),De=m(" : "),ae=m(F),Ne=T(),B=v("p"),ne=m(W),Pe=m(" : "),ie=m(J),Ae=T(),C=v("p"),ce=m(Q),Te=m(" : "),ue=m(Y),Ie=T(),O=v("a"),fe=m(Z),this.h()},l(c){t=g(c,"DIV",{class:!0});var f=b(t);s=g(f,"DIV",{class:!0});var ye=b(s);e=g(ye,"DIV",{class:!0,style:!0});var Re=b(e);N.l(Re),Re.forEach(u),ye.forEach(u),l=I(f),o=g(f,"DIV",{class:!0});var me=b(o);r=g(me,"BUTTON",{class:!0});var we=b(r);p=h(we,"← "),d=h(we,_),we.forEach(u),A=I(me),D=g(me,"BUTTON",{class:!0});var Oe=b(D);X=h(Oe,L),y=h(Oe," →"),Oe.forEach(u),me.forEach(u),f.forEach(u),z=I(c),i=g(c,"DIV",{class:!0});var $=b(i);w=g($,"H1",{});var Ue=b(w);te=h(Ue,U),Ue.forEach(u),be=I($),q=g($,"P",{});var qe=b(q);le=h(qe,G),qe.forEach(u),Ee=I($),M=g($,"P",{});var he=b(M);se=h(he,H),$e=h(he," : "),oe=h(he,j),he.forEach(u),ke=I($),S=g($,"P",{});var de=b(S);re=h(de,K),De=h(de," : "),ae=h(de,F),de.forEach(u),Ne=I($),B=g($,"P",{});var ve=b(B);ne=h(ve,W),Pe=h(ve," : "),ie=h(ve,J),ve.forEach(u),Ae=I($),C=g($,"P",{});var ge=b(C);ce=h(ge,Q),Te=h(ge," : "),ue=h(ge,Y),ge.forEach(u),Ie=I($),O=g($,"A",{href:!0,class:!0});var Ge=b(O);fe=h(Ge,Z),Ge.forEach(u),$.forEach(u),this.h()},h(){E(e,"class","slider-line svelte-uzc2z6"),je(e,"transform","translateX("+a[1]+"px)"),E(s,"class","slider svelte-uzc2z6"),E(r,"class","slider-back"),E(D,"class","slider-next"),E(o,"class","buttons items-center justify-center text-center content-center"),E(t,"class","container_slider"),E(O,"href",_e="mailto:"+a[0].authorEmail),E(O,"class","bg-red-2"),E(i,"class","items-center justify-center text-center content-center mt-4 bore")},m(c,f){P(c,t,f),n(t,s),n(s,e),N.m(e,null),n(t,l),n(t,o),n(o,r),n(r,p),n(r,d),n(o,A),n(o,D),n(D,X),n(D,y),P(c,z,f),P(c,i,f),n(i,w),n(w,te),n(i,be),n(i,q),n(q,le),n(i,Ee),n(i,M),n(M,se),n(M,$e),n(M,oe),n(i,ke),n(i,S),n(S,re),n(S,De),n(S,ae),n(i,Ne),n(i,B),n(B,ne),n(B,Pe),n(B,ie),n(i,Ae),n(i,C),n(C,ce),n(C,Te),n(C,ue),n(i,Ie),n(i,O),n(O,fe),Le||(Ce=[Ke(r,"click",a[3]),Ke(D,"click",a[4])],Le=!0)},p(c,f){pe===(pe=Ve(c))&&N?N.p(c,f):(N.d(1),N=pe(c),N&&(N.c(),N.m(e,null))),f&2&&je(e,"transform","translateX("+c[1]+"px)"),f&4&&_!==(_=c[2]("BACK")+"")&&k(d,_),f&4&&L!==(L=c[2]("NEXT")+"")&&k(X,L),f&1&&U!==(U=c[0].title+"")&&k(te,U),f&1&&G!==(G=c[0].description+"")&&k(le,G),f&4&&H!==(H=c[2]("Author")+"")&&k(se,H),f&1&&j!==(j=c[0].author+"")&&k(oe,j),f&4&&K!==(K=c[2]("Author Email")+"")&&k(re,K),f&1&&F!==(F=c[0].authorEmail+"")&&k(ae,F),f&4&&W!==(W=c[2]("Price")+"")&&k(ne,W),f&1&&J!==(J=c[0].price+"")&&k(ie,J),f&4&&Q!==(Q=c[2]("Date")+"")&&k(ce,Q),f&1&&Y!==(Y=c[0].date+"")&&k(ue,Y),f&4&&Z!==(Z=c[2]("SEND EMAIL TO AUTHOR")+"")&&k(fe,Z),f&1&&_e!==(_e="mailto:"+c[0].authorEmail)&&E(O,"href",_e)},d(c){c&&u(t),N.d(),c&&u(z),c&&u(i),Le=!1,lt(Ce)}}}function dt(a){let t,s,e;return{c(){t=v("div"),s=v("p"),e=m("NO images")},l(l){t=g(l,"DIV",{});var o=b(t);s=g(o,"P",{});var r=b(s);e=h(r,"NO images"),r.forEach(u),o.forEach(u)},m(l,o){P(l,t,o),n(t,s),n(s,e)},p:V,d(l){l&&u(t)}}}function vt(a){let t,s=a[0].images,e=[];for(let l=0;l<s.length;l+=1)e[l]=Je(We(a,s,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=R()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=R()},m(l,o){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,o);P(l,t,o)},p(l,o){if(o&1){s=l[0].images;let r;for(r=0;r<s.length;r+=1){const p=We(l,s,r);e[r]?e[r].p(p,o):(e[r]=Je(p),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(l){st(e,l),l&&u(t)}}}function Je(a){let t,s,e;return{c(){t=v("img"),this.h()},l(l){t=g(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Fe(t.src,s=a[13])||E(t,"src",s),E(t,"alt",e=a[0].title),E(t,"class","w-100 h-100 svelte-uzc2z6")},m(l,o){P(l,t,o)},p(l,o){o&1&&!Fe(t.src,s=l[13])&&E(t,"src",s),o&1&&e!==(e=l[0].title)&&E(t,"alt",e)},d(l){l&&u(t)}}}function gt(a){let t;function s(o,r){return o[0]?ht:mt}let e=s(a),l=e(a);return{c(){l.c(),t=R()},l(o){l.l(o),t=R()},m(o,r){l.m(o,r),P(o,t,r)},p(o,[r]){e===(e=s(o))&&l?l.p(o,r):(l.d(1),l=e(o),l&&(l.c(),l.m(t.parentNode,t)))},i:V,o:V,d(o){l.d(o),o&&u(t)}}}const bt=50;function Et(a,t,s){let e,l;Xe(a,et,i=>s(8,e=i)),Xe(a,ut,i=>s(2,l=i)),ft("ru",_t),pt.set("ru");let o={};const{id:r}=e.params;let p=!0;He(async()=>{try{s(0,o=await xe(r)),console.log(o),p=!1}catch{console.log("error fetching the blog post with id:",r)}});const _=tt();let d=0;function A(){s(1,d+=400),d>(o.images.length-1)*100&&s(1,d=0),_("swipe",{direction:"next",offset:d})}function D(){s(1,d-=400),d<0&&s(1,d=(o.images.length-1)*100),_("swipe",{direction:"back",offset:d})}let L,X;function y(i){L=i.touches[0].clientX}function z(i){X=i.changedTouches[0].clientX;const w=L-X;Math.abs(w)>bt&&(w>0?A():D())}return He(()=>{const i=document.querySelector(".slider-line");return i.addEventListener("touchstart",y),i.addEventListener("touchend",z),()=>{i.removeEventListener("touchstart",y),i.removeEventListener("touchend",z)}}),[o,d,l,A,D]}class $t extends Qe{constructor(t){super(),Ye(this,t,Et,gt,Ze,{})}}function kt(a){let t,s;return t=new $t({props:{post:a[0]}}),{c(){ze(t.$$.fragment)},l(e){Me(t.$$.fragment,e)},m(e,l){Se(t,e,l),s=!0},p(e,l){const o={};l&1&&(o.post=e[0]),t.$set(o)},i(e){s||(x(t.$$.fragment,e),s=!0)},o(e){ee(t.$$.fragment,e),s=!1},d(e){Be(t,e)}}}function Dt(a){let t;return{c(){t=m("LOADING")},l(s){t=h(s,"LOADING")},m(s,e){P(s,t,e)},p:V,i:V,o:V,d(s){s&&u(t)}}}function Nt(a){let t,s,e,l;const o=[Dt,kt],r=[];function p(_,d){return _[1]?0:1}return t=p(a),s=r[t]=o[t](a),{c(){s.c(),e=R()},l(_){s.l(_),e=R()},m(_,d){r[t].m(_,d),P(_,e,d),l=!0},p(_,d){let A=t;t=p(_),t===A?r[t].p(_,d):(rt(),ee(r[A],1,1,()=>{r[A]=null}),at(),s=r[t],s?s.p(_,d):(s=r[t]=o[t](_),s.c()),x(s,1),s.m(e.parentNode,e))},i(_){l||(x(s),l=!0)},o(_){ee(s),l=!1},d(_){r[t].d(_),_&&u(e)}}}function Pt(a){let t,s;return t=new it({props:{path:`${ct}/posts/:id`,$$slots:{default:[Nt,({params:e})=>({4:e}),({params:e})=>e?16:0]},$$scope:{ctx:a}}}),{c(){ze(t.$$.fragment)},l(e){Me(t.$$.fragment,e)},m(e,l){Se(t,e,l),s=!0},p(e,l){const o={};l&35&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){s||(x(t.$$.fragment,e),s=!0)},o(e){ee(t.$$.fragment,e),s=!1},d(e){Be(t,e)}}}function At(a){let t,s,e,l;return document.title="Page of the post",e=new nt({props:{$$slots:{default:[Pt]},$$scope:{ctx:a}}}),{c(){t=v("meta"),s=T(),ze(e.$$.fragment),this.h()},l(o){const r=ot("svelte-1hyxzw6",document.head);t=g(r,"META",{name:!0,content:!0}),r.forEach(u),s=I(o),Me(e.$$.fragment,o),this.h()},h(){E(t,"name","single blog page"),E(t,"content","Detailed blog post")},m(o,r){n(document.head,t),P(o,s,r),Se(e,o,r),l=!0},p(o,[r]){const p={};r&35&&(p.$$scope={dirty:r,ctx:o}),e.$set(p)},i(o){l||(x(e.$$.fragment,o),l=!0)},o(o){ee(e.$$.fragment,o),l=!1},d(o){u(t),o&&u(s),Be(e,o)}}}function Tt(a,t,s){let e;Xe(a,et,p=>s(2,e=p));let l={},o=!0;return(async()=>{try{const p=e.params.id;console.log(p),p?(s(0,l=await xe(p)),s(1,o=!1)):console.log("id is not exists on page params")}catch(p){console.log("error while loadPost",p)}})(),[l,o]}class Vt extends Qe{constructor(t){super(),Ye(this,t,Tt,At,Ze,{})}}export{Vt as default};
