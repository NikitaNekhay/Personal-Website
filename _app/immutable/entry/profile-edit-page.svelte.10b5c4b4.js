import{S as Ze,i as $e,s as et,k as i,I as Ie,a as w,q as g,l as u,m as l,J as Pe,h as o,c as k,r as _,n as t,b as qe,C as e,E as Ne,y as tt,z as rt,a4 as St,A as st,Q as de,a5 as Pt,D as be,a6 as Dt,v as Vt,d as Se,f as Bt,g as De,u as Ee,B as ot,F as Lt,G as Nt,o as Ct,a7 as Ut,P as Mt}from"../chunks/index.b0d13ab4.js";import{g as Rt,u as Tt}from"../chunks/clickOutside.87a83d66.js";import{a as Ot}from"../chunks/firebase.60d08694.js";import{b as jt}from"../chunks/store.21075f70.js";import{b as qt}from"../chunks/paths.c0c251ed.js";import{P as Gt}from"../chunks/ProfileOptions.222009d0.js";import{X as zt,m as Ft,r as Wt,x as Xt}from"../chunks/ru.1558419d.js";function Yt(d){let n,s,a,m,c,r,b,h,S,D,T,X,O,y,p,Y,U,G,P,M,pe,V,x,fe,R,N,j,ee,me,I,A;return{c(){n=i("div"),s=i("div"),a=i("span"),m=Ie("svg"),c=Ie("path"),r=w(),b=i("div"),h=i("strong"),S=g("Changes saved"),D=w(),T=i("p"),X=g("Your product changes have been saved."),O=w(),y=i("div"),p=i("a"),Y=i("span"),U=g("Preview"),G=w(),P=Ie("svg"),M=Ie("path"),pe=w(),V=i("button"),x=i("span"),fe=g("Revert"),R=w(),N=i("button"),j=i("span"),ee=g("Dismiss popup"),me=w(),I=Ie("svg"),A=Ie("path"),this.h()},l($){n=u($,"DIV",{role:!0,class:!0});var q=l(n);s=u(q,"DIV",{class:!0});var B=l(s);a=u(B,"SPAN",{class:!0});var te=l(a);m=Pe(te,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var he=l(m);c=Pe(he,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),l(c).forEach(o),he.forEach(o),te.forEach(o),r=k(B),b=u(B,"DIV",{class:!0});var H=l(b);h=u(H,"STRONG",{class:!0});var v=l(h);S=_(v,"Changes saved"),v.forEach(o),D=k(H),T=u(H,"P",{class:!0});var L=l(T);X=_(L,"Your product changes have been saved."),L.forEach(o),O=k(H),y=u(H,"DIV",{class:!0});var re=l(y);p=u(re,"A",{href:!0,class:!0});var J=l(p);Y=u(J,"SPAN",{class:!0});var ve=l(Y);U=_(ve,"Preview"),ve.forEach(o),G=k(J),P=Pe(J,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ye=l(P);M=Pe(ye,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),l(M).forEach(o),ye.forEach(o),J.forEach(o),pe=k(re),V=u(re,"BUTTON",{class:!0});var z=l(V);x=u(z,"SPAN",{class:!0});var we=l(x);fe=_(we,"Revert"),we.forEach(o),z.forEach(o),re.forEach(o),H.forEach(o),R=k(B),N=u(B,"BUTTON",{class:!0});var C=l(N);j=u(C,"SPAN",{class:!0});var ke=l(j);ee=_(ke,"Dismiss popup"),ke.forEach(o),me=k(C),I=Pe(C,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var F=l(I);A=Pe(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),l(A).forEach(o),F.forEach(o),C.forEach(o),B.forEach(o),q.forEach(o),this.h()},h(){t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"fill","none"),t(m,"viewBox","0 0 24 24"),t(m,"stroke-width","1.5"),t(m,"stroke","currentColor"),t(m,"class","h-6 w-6"),t(a,"class","text-green-600"),t(h,"class","block font-medium text-gray-900"),t(T,"class","mt-1 text-sm text-gray-700"),t(Y,"class","text-sm"),t(M,"stroke-linecap","round"),t(M,"stroke-linejoin","round"),t(M,"d","M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),t(P,"xmlns","http://www.w3.org/2000/svg"),t(P,"fill","none"),t(P,"viewBox","0 0 24 24"),t(P,"stroke-width","1.5"),t(P,"stroke","currentColor"),t(P,"class","h-4 w-4"),t(p,"href",qt+"/profile"),t(p,"class","inline-flex items-center gap-2 rounded-lg bg-navy-1 px-4 py-2 text-white hover:bg-blue-0"),t(x,"class","text-sm"),t(V,"class","block rounded-lg px-4 py-2 text-gray-700 transition hover:bg-gray-100"),t(y,"class","mt-4 flex gap-2"),t(b,"class","flex-1"),t(j,"class","sr-only"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"d","M6 18L18 6M6 6l12 12"),t(I,"xmlns","http://www.w3.org/2000/svg"),t(I,"fill","none"),t(I,"viewBox","0 0 24 24"),t(I,"stroke-width","1.5"),t(I,"stroke","currentColor"),t(I,"class","h-6 w-6"),t(N,"class","text-gray-500 transition hover:text-gray-600"),t(s,"class","flex items-start gap-4"),t(n,"role","alert"),t(n,"class","rounded-xl border border-gray-100 bg-white p-4 shadow-xl mt-6 mb-16")},m($,q){qe($,n,q),e(n,s),e(s,a),e(a,m),e(m,c),e(s,r),e(s,b),e(b,h),e(h,S),e(b,D),e(b,T),e(T,X),e(b,O),e(b,y),e(y,p),e(p,Y),e(Y,U),e(p,G),e(p,P),e(P,M),e(y,pe),e(y,V),e(V,x),e(x,fe),e(s,R),e(s,N),e(N,j),e(j,ee),e(N,me),e(N,I),e(I,A)},p:Ne,i:Ne,o:Ne,d($){$&&o(n)}}}class Ht extends Ze{constructor(n){super(),$e(this,n,null,Yt,et,{})}}function Jt(d){let n;return{c(){n=g("WAITING")},l(s){n=_(s,"WAITING")},m(s,a){qe(s,n,a)},i:Ne,o:Ne,d(s){s&&o(n)}}}function Qt(d){let n,s;return n=new Ht({}),{c(){tt(n.$$.fragment)},l(a){rt(n.$$.fragment,a)},m(a,m){st(n,a,m),s=!0},i(a){s||(De(n.$$.fragment,a),s=!0)},o(a){Se(n.$$.fragment,a),s=!1},d(a){ot(n,a)}}}function Kt(d){let n,s,a,m,c,r,b,h,S,D,T=d[2]("User name")+"",X,O,y,p,Y,U,G,P=d[2]("Email")+"",M,pe,V,x,fe,R,N,j=d[2]("Phone number")+"",ee,me,I,A,$,q,B,te=d[2]("Country")+"",he,H,v,L,re,J=d[2]("Select Country")+"",ve,ye,z,we,C,ke,F,Ge,se,ze,oe,Fe,ae,We,le,Xe,ne,Ye,He,ie,ge,Te=d[2]("Short description about you")+"",Ve,Je,xe,Q,Qe,Ae,ue,Oe=d[2]("Submit")+"",Be,W,Ke,at;const lt=[Qt,Jt],_e=[];function nt(f,E){return f[0]?0:1}return s=nt(d),a=_e[s]=lt[s](d),c=new Gt({}),{c(){n=i("div"),a.c(),m=w(),tt(c.$$.fragment),r=w(),b=i("form"),h=i("div"),S=i("div"),D=i("label"),X=g(T),O=w(),y=i("div"),p=i("input"),Y=w(),U=i("div"),G=i("label"),M=g(P),pe=w(),V=i("div"),x=i("input"),fe=w(),R=i("div"),N=i("label"),ee=g(j),me=w(),I=i("div"),A=i("input"),$=w(),q=i("div"),B=i("label"),he=g(te),H=w(),v=i("select"),L=i("option"),re=g("-- "),ve=g(J),ye=g("  --"),z=i("option"),we=g("Russia"),C=i("option"),ke=g("Asia"),F=i("option"),Ge=g("Europe"),se=i("option"),ze=g("South America"),oe=i("option"),Fe=g("North America"),ae=i("option"),We=g("Africa"),le=i("option"),Xe=g("Australia"),ne=i("option"),Ye=g("Antarctic"),He=w(),ie=i("div"),ge=i("label"),Ve=g(Te),Je=w(),xe=i("div"),Q=i("textarea"),Qe=w(),Ae=i("div"),ue=i("button"),Be=g(Oe),this.h()},l(f){n=u(f,"DIV",{class:!0});var E=l(n);a.l(E),m=k(E),rt(c.$$.fragment,E),r=k(E),b=u(E,"FORM",{class:!0});var ce=l(b);h=u(ce,"DIV",{class:!0});var K=l(h);S=u(K,"DIV",{});var Le=l(S);D=u(Le,"LABEL",{for:!0,class:!0});var it=l(D);X=_(it,T),it.forEach(o),O=k(Le),y=u(Le,"DIV",{class:!0});var ut=l(y);p=u(ut,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),ut.forEach(o),Le.forEach(o),Y=k(K),U=u(K,"DIV",{class:!0});var Ce=l(U);G=u(Ce,"LABEL",{for:!0,class:!0});var ct=l(G);M=_(ct,P),ct.forEach(o),pe=k(Ce),V=u(Ce,"DIV",{class:!0});var dt=l(V);x=u(dt,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),dt.forEach(o),Ce.forEach(o),fe=k(K),R=u(K,"DIV",{class:!0});var Ue=l(R);N=u(Ue,"LABEL",{for:!0,class:!0});var pt=l(N);ee=_(pt,j),pt.forEach(o),me=k(Ue),I=u(Ue,"DIV",{class:!0});var ft=l(I);A=u(ft,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),ft.forEach(o),Ue.forEach(o),$=k(K),q=u(K,"DIV",{});var Me=l(q);B=u(Me,"LABEL",{class:!0});var mt=l(B);he=_(mt,te),mt.forEach(o),H=k(Me),v=u(Me,"SELECT",{class:!0,id:!0});var Z=l(v);L=u(Z,"OPTION",{});var Re=l(L);re=_(Re,"-- "),ve=_(Re,J),ye=_(Re,"  --"),Re.forEach(o),z=u(Z,"OPTION",{});var ht=l(z);we=_(ht,"Russia"),ht.forEach(o),C=u(Z,"OPTION",{});var vt=l(C);ke=_(vt,"Asia"),vt.forEach(o),F=u(Z,"OPTION",{});var gt=l(F);Ge=_(gt,"Europe"),gt.forEach(o),se=u(Z,"OPTION",{});var _t=l(se);ze=_(_t,"South America"),_t.forEach(o),oe=u(Z,"OPTION",{});var bt=l(oe);Fe=_(bt,"North America"),bt.forEach(o),ae=u(Z,"OPTION",{});var Et=l(ae);We=_(Et,"Africa"),Et.forEach(o),le=u(Z,"OPTION",{});var yt=l(le);Xe=_(yt,"Australia"),yt.forEach(o),ne=u(Z,"OPTION",{});var wt=l(ne);Ye=_(wt,"Antarctic"),wt.forEach(o),Z.forEach(o),Me.forEach(o),He=k(K),ie=u(K,"DIV",{class:!0});var je=l(ie);ge=u(je,"LABEL",{for:!0,class:!0});var kt=l(ge);Ve=_(kt,Te),kt.forEach(o),Je=k(je),xe=u(je,"DIV",{class:!0});var xt=l(xe);Q=u(xt,"TEXTAREA",{id:!0,rows:!0,class:!0}),l(Q).forEach(o),xt.forEach(o),je.forEach(o),K.forEach(o),Qe=k(ce),Ae=u(ce,"DIV",{class:!0});var At=l(Ae);ue=u(At,"BUTTON",{type:!0,class:!0});var It=l(ue);Be=_(It,Oe),It.forEach(o),At.forEach(o),ce.forEach(o),E.forEach(o),this.h()},h(){t(D,"for","first-name"),t(D,"class","block text-sm font-semibold leading-6 text-gray-900"),t(p,"type","text"),p.required=!0,t(p,"id","name"),t(p,"autocomplete","given-name"),t(p,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(y,"class","mt-2.5"),t(G,"for","email"),t(G,"class","block text-sm font-semibold leading-6 text-gray-900"),t(x,"type","email"),x.required=!0,t(x,"id","email"),t(x,"autocomplete","email"),t(x,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(V,"class","mt-2.5"),t(U,"class","sm:col-span-2"),t(N,"for","phone-number"),t(N,"class","block text-sm font-semibold leading-6 text-gray-900"),t(A,"type","tel"),t(A,"id","phone"),A.required=!0,t(A,"autocomplete","tel"),t(A,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(I,"class","relative mt-2.5"),t(R,"class","sm:col-span-2"),t(B,"class","block font-bold"),L.__value="",L.value=L.__value,z.__value="Russia",z.value=z.__value,C.__value="Europe",C.value=C.__value,F.__value="Europe",F.value=F.__value,se.__value="South America",se.value=se.__value,oe.__value="North America",oe.value=oe.__value,ae.__value="Australia",ae.value=ae.__value,le.__value="Australia",le.value=le.__value,ne.__value="Antarctic",ne.value=ne.__value,t(v,"class","w-full p-2 border rounded"),t(v,"id","country"),v.required=!0,d[1].country===void 0&&St(()=>d[7].call(v)),t(ge,"for","message"),t(ge,"class","block text-sm font-semibold leading-6 text-gray-900"),t(Q,"id","description"),t(Q,"rows","4"),t(Q,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(xe,"class","mt-2.5"),t(ie,"class","sm:col-span-2"),t(h,"class","grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"),t(ue,"type","button"),t(ue,"class","flex w-full justify-center rounded-md bg-navy-1 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm transition duration-100 hover:bg-red-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),t(Ae,"class","mt-10"),t(b,"class","mx-auto mt-16 max-w-xl sm:mt-20"),t(n,"class","isolate bg-white px-6 py-24 sm:py-32 lg:px-8")},m(f,E){qe(f,n,E),_e[s].m(n,null),e(n,m),st(c,n,null),e(n,r),e(n,b),e(b,h),e(h,S),e(S,D),e(D,X),e(S,O),e(S,y),e(y,p),de(p,d[1].name),e(h,Y),e(h,U),e(U,G),e(G,M),e(U,pe),e(U,V),e(V,x),de(x,d[1].email),e(h,fe),e(h,R),e(R,N),e(N,ee),e(R,me),e(R,I),e(I,A),de(A,d[1].phone),e(h,$),e(h,q),e(q,B),e(B,he),e(q,H),e(q,v),e(v,L),e(L,re),e(L,ve),e(L,ye),e(v,z),e(z,we),e(v,C),e(C,ke),e(v,F),e(F,Ge),e(v,se),e(se,ze),e(v,oe),e(oe,Fe),e(v,ae),e(ae,We),e(v,le),e(le,Xe),e(v,ne),e(ne,Ye),Pt(v,d[1].country,!0),e(h,He),e(h,ie),e(ie,ge),e(ge,Ve),e(ie,Je),e(ie,xe),e(xe,Q),de(Q,d[1].description),e(b,Qe),e(b,Ae),e(Ae,ue),e(ue,Be),W=!0,Ke||(at=[be(p,"input",d[4]),be(x,"input",d[5]),be(A,"input",d[6]),be(v,"change",d[7]),be(Q,"input",d[8]),be(ue,"click",d[3]),be(b,"submit",Dt(d[3]))],Ke=!0)},p(f,[E]){let ce=s;s=nt(f),s!==ce&&(Vt(),Se(_e[ce],1,1,()=>{_e[ce]=null}),Bt(),a=_e[s],a||(a=_e[s]=lt[s](f),a.c()),De(a,1),a.m(n,m)),(!W||E&4)&&T!==(T=f[2]("User name")+"")&&Ee(X,T),E&2&&p.value!==f[1].name&&de(p,f[1].name),(!W||E&4)&&P!==(P=f[2]("Email")+"")&&Ee(M,P),E&2&&x.value!==f[1].email&&de(x,f[1].email),(!W||E&4)&&j!==(j=f[2]("Phone number")+"")&&Ee(ee,j),E&2&&de(A,f[1].phone),(!W||E&4)&&te!==(te=f[2]("Country")+"")&&Ee(he,te),(!W||E&4)&&J!==(J=f[2]("Select Country")+"")&&Ee(ve,J),E&2&&Pt(v,f[1].country),(!W||E&4)&&Te!==(Te=f[2]("Short description about you")+"")&&Ee(Ve,Te),E&2&&de(Q,f[1].description),(!W||E&4)&&Oe!==(Oe=f[2]("Submit")+"")&&Ee(Be,Oe)},i(f){W||(De(a),De(c.$$.fragment,f),W=!0)},o(f){Se(a),Se(c.$$.fragment,f),W=!1},d(f){f&&o(n),_e[s].d(),ot(c),Ke=!1,Lt(at)}}}function Zt(d,n,s){let a,m;Nt(d,jt,O=>s(9,a=O)),Nt(d,zt,O=>s(2,m=O)),Ft("ru",Wt),Xt.set("ru");let c=!1,r={name:"",email:"",phone:"",country:"",description:"",messages:[]};Ct(()=>(console.log("updating profile..."),s(0,c=!1),console.log("authStore in prfile.svelte before everything",a.data),Ot.onAuthStateChanged(async y=>{let p=await Rt(y);y?(!a.data.name&&!a.data.email?(s(1,r.name=p.name,r),s(1,r.email=p.email,r),s(1,r.phone=p.phone,r),s(1,r.country=p.country,r),s(1,r.description=p.description,r),s(1,r.messages=p.messages,r)):(s(1,r.name=a.data.name,r),s(1,r.email=a.data.email,r),s(1,r.phone=a.data.phone,r),s(1,r.country=a.data.country,r),s(1,r.description=a.data.description,r),s(1,r.messages=a.data.messages,r)),Tt(y,r.name,r.email,r.phone,r.country,r.description,r.messages),console.log("after onMount",c)):console.log("no user in Profile.svelte")})));async function b(O){O.preventDefault();const y=Ot.currentUser;console.log("authStore in prfile.svelte before handling",a.data);try{await Tt(y,r.name,r.email,r.phone,r.country,r.description,r.messages).then(()=>{console.log("Profile updated successfully.")}).catch(p=>{console.error("Error updating profile:",p.message)}),s(0,c=!0),console.log("after submit",c)}catch(p){console.error(p.message)}console.log("authStore in prfile.svelte after handling",a.data)}function h(){r.name=this.value,s(1,r)}function S(){r.email=this.value,s(1,r)}function D(){r.phone=this.value,s(1,r)}function T(){r.country=Ut(this),s(1,r)}function X(){r.description=this.value,s(1,r)}return[c,r,m,b,h,S,D,T,X]}class $t extends Ze{constructor(n){super(),$e(this,n,Zt,Kt,et,{})}}function er(d){let n,s,a,m;return document.title="Edit profile",a=new $t({}),{c(){n=i("meta"),s=w(),tt(a.$$.fragment),this.h()},l(c){const r=Mt("svelte-e8d9gf",document.head);n=u(r,"META",{name:!0,content:!0}),r.forEach(o),s=k(c),rt(a.$$.fragment,c),this.h()},h(){t(n,"name","edit profile"),t(n,"content","forms for editing profile")},m(c,r){e(document.head,n),qe(c,s,r),st(a,c,r),m=!0},p:Ne,i(c){m||(De(a.$$.fragment,c),m=!0)},o(c){Se(a.$$.fragment,c),m=!1},d(c){o(n),c&&o(s),ot(a,c)}}}class ir extends Ze{constructor(n){super(),$e(this,n,null,er,et,{})}}export{ir as default};
