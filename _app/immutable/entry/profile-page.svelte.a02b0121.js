import{S as pt,i as ht,s as gt,k as s,a as m,q as b,l as r,m as l,h as o,c as p,r as _,n as t,p as bt,U as _t,b as vt,C as e,O as M,V as dt,D as se,P as yt,E as ze,F as Et,o as xt,W as wt,y as It,M as Pt,z as Dt,A as Vt,g as At,d as St,B as Tt}from"../chunks/index.c52da2f4.js";import{g as ft,u as kt}from"../chunks/user.91483df6.js";import{a as mt}from"../chunks/firebase.80003ae4.js";import{p as Ot,b as Ut}from"../chunks/store.206d92aa.js";import{b as Lt}from"../chunks/paths.01076b1d.js";function Ct(f){let i,n,a,D,u,g,re,oe,S,G,A,c,d,F,q,ge,ve,J,E,be,T,R,_e,ye,K,x,Ee,k,z,xe,we,Q,P,Ie,H,Y,Pe,De,h,O,Ve,U,Ae,L,Se,C,Te,ke,N,W,Oe,Ue,Z,V,Le,B,$,w,ee,Ce,Ne,te,Be,X,Me,Fe,ae,j,qe,Re,He;return{c(){i=s("div"),n=s("div"),a=s("div"),D=m(),u=s("div"),g=s("h2"),re=b("EDIT PROFILE"),oe=m(),S=s("p"),G=b("Please fulfill this short form."),A=m(),c=s("form"),d=s("div"),F=s("div"),q=s("label"),ge=b("First name"),ve=m(),J=s("div"),E=s("input"),be=m(),T=s("div"),R=s("label"),_e=b("Email"),ye=m(),K=s("div"),x=s("input"),Ee=m(),k=s("div"),z=s("label"),xe=b("Phone number"),we=m(),Q=s("div"),P=s("input"),Ie=m(),H=s("div"),Y=s("label"),Pe=b("Country"),De=m(),h=s("select"),O=s("option"),Ve=b("-- Select Country --"),U=s("option"),Ae=b("USA"),L=s("option"),Se=b("Canada"),C=s("option"),Te=b("Mexico"),ke=m(),N=s("div"),W=s("label"),Oe=b("Short description about you"),Ue=m(),Z=s("div"),V=s("textarea"),Le=m(),B=s("div"),$=s("div"),w=s("button"),ee=s("span"),Ce=b("Agree to policies"),Ne=m(),te=s("span"),Be=m(),X=s("form"),Me=b("By selecting this, you agree to our privacy policy."),Fe=m(),ae=s("div"),j=s("button"),qe=b("Submit"),this.h()},l(y){i=r(y,"DIV",{class:!0});var v=l(i);n=r(v,"DIV",{class:!0,"aria-hidden":!0});var We=l(n);a=r(We,"DIV",{class:!0,style:!0}),l(a).forEach(o),We.forEach(o),D=p(v),u=r(v,"DIV",{class:!0});var ie=l(u);g=r(ie,"H2",{class:!0});var Xe=l(g);re=_(Xe,"EDIT PROFILE"),Xe.forEach(o),oe=p(ie),S=r(ie,"P",{class:!0});var je=l(S);G=_(je,"Please fulfill this short form."),je.forEach(o),ie.forEach(o),A=p(v),c=r(v,"FORM",{class:!0});var ne=l(c);d=r(ne,"DIV",{class:!0});var I=l(d);F=r(I,"DIV",{});var ue=l(F);q=r(ue,"LABEL",{for:!0,class:!0});var Ge=l(q);ge=_(Ge,"First name"),Ge.forEach(o),ve=p(ue),J=r(ue,"DIV",{class:!0});var Je=l(J);E=r(Je,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Je.forEach(o),ue.forEach(o),be=p(I),T=r(I,"DIV",{class:!0});var ce=l(T);R=r(ce,"LABEL",{for:!0,class:!0});var Ke=l(R);_e=_(Ke,"Email"),Ke.forEach(o),ye=p(ce),K=r(ce,"DIV",{class:!0});var Qe=l(K);x=r(Qe,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Qe.forEach(o),ce.forEach(o),Ee=p(I),k=r(I,"DIV",{class:!0});var de=l(k);z=r(de,"LABEL",{for:!0,class:!0});var Ye=l(z);xe=_(Ye,"Phone number"),Ye.forEach(o),we=p(de),Q=r(de,"DIV",{class:!0});var Ze=l(Q);P=r(Ze,"INPUT",{type:!0,id:!0,autocomplete:!0,class:!0}),Ze.forEach(o),de.forEach(o),Ie=p(I),H=r(I,"DIV",{});var fe=l(H);Y=r(fe,"LABEL",{class:!0});var $e=l(Y);Pe=_($e,"Country"),$e.forEach(o),De=p(fe),h=r(fe,"SELECT",{class:!0,id:!0});var le=l(h);O=r(le,"OPTION",{});var et=l(O);Ve=_(et,"-- Select Country --"),et.forEach(o),U=r(le,"OPTION",{});var tt=l(U);Ae=_(tt,"USA"),tt.forEach(o),L=r(le,"OPTION",{});var at=l(L);Se=_(at,"Canada"),at.forEach(o),C=r(le,"OPTION",{});var st=l(C);Te=_(st,"Mexico"),st.forEach(o),le.forEach(o),fe.forEach(o),ke=p(I),N=r(I,"DIV",{class:!0});var me=l(N);W=r(me,"LABEL",{for:!0,class:!0});var rt=l(W);Oe=_(rt,"Short description about you"),rt.forEach(o),Ue=p(me),Z=r(me,"DIV",{class:!0});var ot=l(Z);V=r(ot,"TEXTAREA",{id:!0,rows:!0,class:!0}),l(V).forEach(o),ot.forEach(o),me.forEach(o),Le=p(I),B=r(I,"DIV",{class:!0});var pe=l(B);$=r(pe,"DIV",{class:!0});var lt=l($);w=r(lt,"BUTTON",{type:!0,class:!0,role:!0,"aria-checked":!0,"aria-labelledby":!0});var he=l(w);ee=r(he,"SPAN",{class:!0});var it=l(ee);Ce=_(it,"Agree to policies"),it.forEach(o),Ne=p(he),te=r(he,"SPAN",{"aria-hidden":!0,class:!0}),l(te).forEach(o),he.forEach(o),lt.forEach(o),Be=p(pe),X=r(pe,"FORM",{class:!0,id:!0});var nt=l(X);Me=_(nt,"By selecting this, you agree to our privacy policy."),nt.forEach(o),pe.forEach(o),I.forEach(o),Fe=p(ne),ae=r(ne,"DIV",{class:!0});var ut=l(ae);j=r(ut,"BUTTON",{type:!0,class:!0});var ct=l(j);qe=_(ct,"Submit"),ct.forEach(o),ut.forEach(o),ne.forEach(o),v.forEach(o),this.h()},h(){t(a,"class","relative left-1/2 -z-10 aspect-[1155/678] w-[36.125rem] max-w-none -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-40rem)] sm:w-[72.1875rem]"),bt(a,"clip-path","polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"),t(n,"class","absolute inset-x-0 top-[-10rem] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[-20rem]"),t(n,"aria-hidden","true"),t(g,"class","text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"),t(S,"class","mt-2 text-lg leading-8 text-gray-600"),t(u,"class","mx-auto max-w-2xl text-center"),t(q,"for","first-name"),t(q,"class","block text-sm font-semibold leading-6 text-gray-900"),t(E,"type","text"),E.required=!0,t(E,"id","name"),t(E,"autocomplete","given-name"),t(E,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(J,"class","mt-2.5"),t(R,"for","email"),t(R,"class","block text-sm font-semibold leading-6 text-gray-900"),t(x,"type","email"),x.required=!0,t(x,"id","email"),t(x,"autocomplete","email"),t(x,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(K,"class","mt-2.5"),t(T,"class","sm:col-span-2"),t(z,"for","phone-number"),t(z,"class","block text-sm font-semibold leading-6 text-gray-900"),t(P,"type","tel"),t(P,"id","phone"),P.required=!0,t(P,"autocomplete","tel"),t(P,"class","block w-full rounded-md border-0 px-3.5 py-2 pl-20 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(Q,"class","relative mt-2.5"),t(k,"class","sm:col-span-2"),t(Y,"class","block font-bold"),O.__value="",O.value=O.__value,U.__value="USA",U.value=U.__value,L.__value="Canada",L.value=L.__value,C.__value="Mexico",C.value=C.__value,t(h,"class","w-full p-2 border rounded"),t(h,"id","country"),h.required=!0,f[0].country===void 0&&_t(()=>f[5].call(h)),t(W,"for","message"),t(W,"class","block text-sm font-semibold leading-6 text-gray-900"),t(V,"id","description"),t(V,"rows","4"),t(V,"class","block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),t(Z,"class","mt-2.5"),t(N,"class","sm:col-span-2"),t(ee,"class","sr-only"),t(te,"aria-hidden","true"),t(te,"class","translate-x-0 h-4 w-4 transform rounded-full bg-white shadow-sm ring-1 ring-gray-900/5 transition duration-200 ease-in-out"),t(w,"type","button"),t(w,"class","bg-gray-200 flex w-8 flex-none cursor-pointer rounded-full p-px ring-1 ring-inset ring-gray-900/5 transition-colors duration-200 ease-in-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),t(w,"role","switch"),t(w,"aria-checked","false"),t(w,"aria-labelledby","switch-1-label"),t($,"class","flex h-6 items-center"),t(X,"class","text-sm leading-6 text-gray-600"),t(X,"id","switch-1-label"),t(B,"class","flex gap-x-4 sm:col-span-2"),t(d,"class","grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"),t(j,"type","submit"),t(j,"class","block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"),t(ae,"class","mt-10"),t(c,"class","mx-auto mt-16 max-w-xl sm:mt-20"),t(i,"class","isolate bg-white px-6 py-24 sm:py-32 lg:px-8")},m(y,v){vt(y,i,v),e(i,n),e(n,a),e(i,D),e(i,u),e(u,g),e(g,re),e(u,oe),e(u,S),e(S,G),e(i,A),e(i,c),e(c,d),e(d,F),e(F,q),e(q,ge),e(F,ve),e(F,J),e(J,E),M(E,f[0].name),e(d,be),e(d,T),e(T,R),e(R,_e),e(T,ye),e(T,K),e(K,x),M(x,f[0].email),e(d,Ee),e(d,k),e(k,z),e(z,xe),e(k,we),e(k,Q),e(Q,P),M(P,f[0].phone),e(d,Ie),e(d,H),e(H,Y),e(Y,Pe),e(H,De),e(H,h),e(h,O),e(O,Ve),e(h,U),e(U,Ae),e(h,L),e(L,Se),e(h,C),e(C,Te),dt(h,f[0].country,!0),e(d,ke),e(d,N),e(N,W),e(W,Oe),e(N,Ue),e(N,Z),e(Z,V),M(V,f[0].description),e(d,Le),e(d,B),e(B,$),e($,w),e(w,ee),e(ee,Ce),e(w,Ne),e(w,te),e(B,Be),e(B,X),e(X,Me),e(c,Fe),e(c,ae),e(ae,j),e(j,qe),Re||(He=[se(E,"input",f[2]),se(x,"input",f[3]),se(P,"input",f[4]),se(h,"change",f[5]),se(V,"input",f[6]),se(c,"submit",yt(f[1]))],Re=!0)},p(y,[v]){v&1&&E.value!==y[0].name&&M(E,y[0].name),v&1&&x.value!==y[0].email&&M(x,y[0].email),v&1&&M(P,y[0].phone),v&1&&dt(h,y[0].country),v&1&&M(V,y[0].description)},i:ze,o:ze,d(y){y&&o(i),Re=!1,Et(He)}}}function Nt(f,i,n){let a={name:"",email:"",phone:"",country:"",description:""};xt(()=>(console.log("editing profile..."),mt.onAuthStateChanged(async A=>{let c=await ft(A);if(A){n(0,a.name=c.name||"",a),n(0,a.email=c.email,a),n(0,a.phone=c.phone||"",a),n(0,a.country=c.country||"",a),n(0,a.description=c.description||"",a);const d=await ft(A);Ot.set(d)}})));async function D(G){G.preventDefault();const A=mt.currentUser;try{await kt(A,a.name,a.email,a.phone,a.country,a.description).then(()=>{console.log("Profile updated successfully.")}).catch(c=>{console.error("Error updating profile:",c.message)}),Ut.update(c=>({user:null,loading:!0,data:{...c.data,name:a.name,email:a.email,phone:a.phone,country:a.country,description:a.description}})),window.location.href=`${Lt}/dashboard/`}catch(c){console.error(c.message)}}function u(){a.name=this.value,n(0,a)}function g(){a.email=this.value,n(0,a)}function re(){a.phone=this.value,n(0,a)}function oe(){a.country=wt(this),n(0,a)}function S(){a.description=this.value,n(0,a)}return[a,D,u,g,re,oe,S]}class Bt extends pt{constructor(i){super(),ht(this,i,Nt,Ct,gt,{})}}function Mt(f){let i,n,a,D;return document.title="User Profile",a=new Bt({}),{c(){i=s("meta"),n=m(),It(a.$$.fragment),this.h()},l(u){const g=Pt("svelte-5kmet8",document.head);i=r(g,"META",{name:!0,content:!0}),g.forEach(o),n=p(u),Dt(a.$$.fragment,u),this.h()},h(){t(i,"name","description"),t(i,"content","User Profile")},m(u,g){e(document.head,i),vt(u,n,g),Vt(a,u,g),D=!0},p:ze,i(u){D||(At(a.$$.fragment,u),D=!0)},o(u){St(a.$$.fragment,u),D=!1},d(u){o(i),u&&o(n),Tt(a,u)}}}class Wt extends pt{constructor(i){super(),ht(this,i,null,Mt,gt,{})}}export{Wt as default};
